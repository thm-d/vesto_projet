(this["webpackJsonpvesto-admin"]=this["webpackJsonpvesto-admin"]||[]).push([[0],{474:function(e,t,r){},612:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),i=r.n(a),c=r(25),s=r.n(c),o=(r(474),r(734)),l=r(733),d=r(752),j=r(736),u=r(136),b=r(6),O=r(20),h=r.n(O),x=r(32),m={vesto_stock:"vesto stock",clients:"clients",listes:"listes",machines_desirees:"machines d\xe9sir\xe9es",categories:"cat\xe9gories",retraitement_machines:"vesto stock",operations:"listes",sav:"listes",factures:"factures reconditionneurs",reconditionneurs:"reconditionneurs",comments:"commentaires",services:"vesto stock",factures_clients:"factures clients"},f=function(e,t){return p(e,1,t,0)},p=function e(t,r,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return fetch(t+"&offset=".concat(i,"&api_key=keysF0s3bC0g7ODOW")).then((function(e){return e.json()})).then((function(i){return a+=i.records?i.records.length:0,i.offset&&r<n?e(t,r+1,n,a,i.offset):c?{data:i.records.map((function(e){return e.fields})),total:i.offset?a+1:a}:i})).catch((function(e){return console.log(e)}))},v=function(){var e=Object(x.a)(h.a.mark((function e(t){var r,n,a,i,c,s,o,l=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>1&&void 0!==l[1]?l[1]:1e4,console.log("fetch pages",t,r),n=100,a=1,i="",c=0,s=[],console.log(i&&a*n<r);case 8:if(!(1===a||i&&a*n<r)){e.next=18;break}return e.next=11,p(t,a,a,c,i,!1);case 11:o=e.sent,i=o.offset,c+=i?n:o.records?o.records.length:0,a++,s=s.concat(o.records.map((function(e){return e.fields}))),e.next=8;break;case 18:return e.abrupt("return",{data:s,total:c});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t+"?api_key=keysF0s3bC0g7ODOW").then((function(e){return e.json()})).then((function(e){return{data:e.fields}})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t="",r=1,n="";"view"in e&&(n="&view=".concat(e.view),delete e.view);var a=e&&Object.keys(e).length;return a>1&&(t+=a>1?"AND(":"",Object.keys(e).forEach((function(n){t+="{".concat(n,"}='").concat(e[n],"'"),a>1&&(t+=r===a?")":", "),r++}))),1===a&&(t+="{".concat(Object.keys(e)[0],"}='").concat(e[Object.keys(e)[0]],"'")),t+n},y=function(e){return{getList:function(t,r){var n=r.pagination,a=n.page,i=n.perPage,c=r.sort,s=c.field,o=c.order,l=r.filter;console.log("get liste",i);var d=C(l),j="sort%5B0%5D%5Bfield%5D=".concat(s,"&sort%5B0%5D%5Bdirection%5D=").concat(o.toLowerCase());if(i>100){var u="".concat(e,"/").concat(m[t],"?pageSize=",100,"&").concat(j,"&filterByFormula=").concat(d);return v(u,i)}var b="".concat(e,"/").concat(m[t],"?pageSize=").concat(i,"&").concat(j,"&filterByFormula=").concat(d);return f(b,a)},getOne:function(t,r){var n="".concat(e,"/").concat(m[t],"/").concat(r.id);return g(n)},getMany:function(t,r){var n=r.ids,a=n.length,i="",c=1;a>1&&(i+=a>1?"OR(":"",n.forEach((function(e){i+="{id} = '".concat(e,"'"),a>1&&(i+=c===a?")":", "),c++}))),1===a&&(i+="{id} ='".concat(n[Object.keys(n)[0]],"'"));var s="".concat(e,"/").concat(m[t],"?filterByFormula=").concat(i);return f(s,a<100?a:100)},getManyReference:function(t,r){var n=r.target,a=r.id,i=r.filter,c=r.pagination,s=c.page,o=c.perPage,l=r.sort,d=l.field,j=l.order,O=Object(b.a)(Object(u.a)({},n,a),i),h=C(O),x="sort%5B0%5D%5Bfield%5D=".concat(d,"&sort%5B0%5D%5Bdirection%5D=").concat(j.toLowerCase()),p="".concat(e,"/").concat(m[t],"?pageSize=").concat(o,"&").concat(x,"&filterByFormula=").concat(h);return f(p,s)},create:function(t,r){var n=r.data;return function(e,t){return fetch(e+"?api_key=keysF0s3bC0g7ODOW",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return{data:e.records.map((function(e){return e.fields}))[0]}})).catch((function(e){return console.log(e)}))}("".concat(e,"/").concat(m[t]),{records:[{fields:n}]})},updateMany:function(t,r){var n=r.ids,a=r.data,i="".concat(e,"/").concat(m[t]),c=[];return n.forEach((function(e){c.push({id:e,fields:a})})),function(e,t){return fetch(e+"?api_key=keysF0s3bC0g7ODOW",{method:"PATCH",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return{data:e.records.map((function(e){return e.id}))}})).catch((function(e){return console.log(e)}))}(i,{records:c})},update:function(t,r){var n=r.id,a=r.data;return function(e,t){return fetch(e+"?api_key=keysF0s3bC0g7ODOW",{method:"PATCH",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return{data:e.records.map((function(e){return e.fields}))[0]}})).catch((function(e){return console.log(e)}))}("".concat(e,"/").concat(m[t]),{records:[{id:n,fields:a}]})},deleteMany:function(t,r){for(var n=r.ids,a="".concat(e,"/").concat(m[t],"?records[]=").concat(n[0]),i=1;i<n.length;i++)a+="&records[]="+n[i];return function(e){return fetch(e+"&api_key=keysF0s3bC0g7ODOW",{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return{data:e.records.map((function(e){return e.id}))}})).catch((function(e){return console.log(e)}))}(a)},delete:function(t,r){var n=r.id;return function(e){return fetch(e+"&api_key=keysF0s3bC0g7ODOW",{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return{data:e.records}})).catch((function(e){return console.log(e)}))}("".concat(e,"/").concat(m[t],"?records[]=").concat(n))}}},T=r(424),N=r(731),F=r(422),k=r(170),S=r(396),w=r(711),W=r(431),P=r(111),H=r(285),A=r(430),E=r(371),D=r(372),M=r(38),_=r(14),L=r(713),I=r(233),V=r(696),q=r(738),R=r(744),B=r(693),z=r(432),G=r(391),U=r(724),X=r(707),J=r(162),K=r(443),Z=r(299),Q=r(434),Y=r(683),$=r(429),ee=r(740),te=r(741),re=r(613),ne=r(242),ae=r(370),ie=r(690),ce=r(692),se=r(144),oe=r(747),le=r(748),de=r(684),je=r(685),ue=r(737),be=r(623),Oe=r(425),he=r(172),xe=[{id:"usr75jDuvBNfjBf45",email:"anne-laurene@vesto.fr",name:"Anne-Laur\xe8ne Harmel"},{id:"usrWvHr7KgXrcd6iH",email:"lucas@vesto.fr",name:"Lucas POZZOLI"},{id:"usrMUK8g7MFldVXtj",email:"bastien@vesto.fr",name:"Bastien Rambaud"},{id:"usrzp54A2X7xbZhen",email:"wilfrid@vesto.fr",name:"Wilfrid Dumas"}],me=r(48),fe=r(374),pe=r.n(fe),ve=Object(me.a)((function(e){return{root:{maxWidth:"500px"}}})),ge=function(e){var t=e.record;return Object(n.jsxs)("span",{children:["Liste ",t?t.Nom:""]})},Ce=function(e){return Object(n.jsxs)(te.a,Object(b.a)(Object(b.a)({},e),{},{context:"button",children:[Object(n.jsx)(P.a,{label:"Search",source:"q",alwaysOn:!0}),Object(n.jsx)(H.a,{label:"Owner",source:"owner",choices:xe,alwaysOn:!0}),Object(n.jsx)(P.a,{label:"Title",source:"title",defaultValue:"Hello, World!",alwaysOn:!0})]}))},ye=[{id:"1. A attribuer",name:"1. A attribuer",number:1},{id:"2. Affinage du besoin",name:"2. Affinage du besoin",number:2},{id:"3. Proforma \xe0 recontacter",name:"3. Proforma \xe0 recontacter",number:3}],Te=[{id:"4. Devis \xe0 envoyer",name:"4. Devis \xe0 envoyer",number:4},{id:"5. Devis envoy\xe9",name:"5. Devis envoy\xe9",number:5},{id:"6. Devis en n\xe9go",name:"6. Devis en n\xe9go",number:6},{id:"7. Devis sign\xe9",name:"7. Devis sign\xe9",number:7},{id:"8. Pass\xe9 aux ops",name:"8. Pass\xe9 aux ops",number:8}],Ne=[{id:"9. Installation termin\xe9e",name:"9. Installation termin\xe9e",number:9},{id:"Gagn\xe9 (sous garantie)",name:"Gagn\xe9 (sous garantie)",number:10},{id:"Gagn\xe9 (hors garantie)",name:"Gagn\xe9 (hors garantie)",number:11},{id:"Perdu",name:"Perdu",number:12}],Fe=ye.concat(Te).concat(Ne),ke=[ye,Te,Ne],Se=function(e){var t=Object(re.a)(),r=t.filterValues,i=t.setFilters,c=t.displayedFilters,s=Object(a.useCallback)((function(e,t){i&&i(Object(b.a)(Object(b.a)({},r),{},{Statut:t}),c)}),[c,r,i]),o=ve();return Object(n.jsxs)(Y.a,{container:!0,spacing:4,children:[Object(n.jsx)(Y.a,{item:!0,xs:3,children:ke.map((function(e){return Object(n.jsxs)(Y.a,{item:!0,xs:12,children:[Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsx)(ue.a,{orientation:"vertical",centered:!0,value:r.Statut,indicatorColor:"primary",textColor:"primary",onChange:s,children:e.map((function(e){return Object(n.jsx)(be.a,{label:e.name,value:e.name,classes:o},e.id)}))})})}),Object(n.jsx)("br",{})]})}))}),Object(n.jsx)(Y.a,{item:!0,xs:9,children:Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsxs)(ne.a,{value:Object(b.a)({},t),children:[Object(n.jsxs)(F.a,Object(b.a)(Object(b.a)({},e),{},{rowClick:"edit",children:[Object(n.jsx)(k.a,{source:"Nom"}),Object(n.jsx)($.a,{source:"Client",reference:"clients",children:Object(n.jsx)(k.a,{source:"Client"})}),Object(n.jsx)(ae.a,{source:"Owner",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"name"})})}),Object(n.jsx)(k.a,{source:"P\xe9riode installation souhait\xe9e"}),Object(n.jsx)(ie.a,{})]})),Object(n.jsx)(T.a,{})]})})})})]})},we=function(e){var t=Object(re.a)(),r=t.setFilters,i=t.filterValues,c=t.displayedFilters,s=Object(a.useState)(!1),o=Object(_.a)(s,2),l=o[0],d=o[1],j=Object(a.useState)(i.owner?i.owner:"Owner"),u=Object(_.a)(j,2),b=u[0],O=u[1],h=a.useState(null),x=Object(_.a)(h,2),m=x[0],f=x[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Q.a,{onClick:function(e){d(!0),f(e.currentTarget)},label:"test",color:"primary",startIcon:Object(n.jsx)(pe.a,{}),size:"small",children:b}),Object(n.jsx)(Oe.a,{open:l,onClose:function(){return d(!1)},anchorEl:m,children:xe.map((function(e){return Object(n.jsx)(he.a,{onClick:function(){return function(e){var t=i;"owner"in i&&i.owner===e.name?(delete t.owner,O("Owner")):(t.owner=e.name,O(e.name)),r(t,c),d(!1)}(e)},"data-sort":e,children:e.name},e.id)}))})]})},We=function(e){return Object(n.jsxs)(ce.a,Object(b.a)(Object(b.a)({},e),{},{filterDefaultValues:{Statut:"2. Affinage du besoin"},perPage:10,children:[Object(n.jsxs)(se.a,{filters:Object(n.jsx)(Ce,{}),children:[Object(n.jsx)(we,{}),Object(n.jsx)(oe.a,{basePath:"/listes"}),Object(n.jsx)(le.a,{})]}),Object(n.jsx)(Se,{})]}))},Pe=r(33),He=[{id:"R\xe9seaux sociaux"},{id:"Bouche \xe0 oreille"},{id:"Google"},{id:"Facebook"},{id:"Le bon coin"},{id:"Chasse"},{id:"Groupement restaurateurs (ecotable)"},{id:"Autre"}],Ae=function(e){var t=Object(Pe.f)().values,r=Hn();return e.setClientProps(t),Object(n.jsxs)(Y.a,Object(b.a)(Object(b.a)({},e),{},{container:!0,spacing:0,children:[Object(n.jsx)(P.a,{variant:"outlined",className:r.inlineField,fullWidth:!0,source:"Nom"}),Object(n.jsx)(P.a,{variant:"outlined",className:r.inlineField,fullWidth:!0,source:"Pr\xe9nom"}),Object(n.jsx)(P.a,{variant:"outlined",className:r.inlineField,fullWidth:!0,source:"T\xe9l\xe9phone"}),Object(n.jsx)(P.a,{variant:"outlined",className:r.inline23Field,fullWidth:!0,source:"email"}),Object(n.jsx)(H.a,{choices:He,optionText:"id",variant:"outlined",className:r.inlineField,fullWidth:!0,source:"Source"}),Object(n.jsx)(P.a,{variant:"outlined",multiline:!0,className:r.fullWidth,fullWidth:!0,source:"Notes"})]}))},Ee=function(e){var t=Object(Pe.f)().values,r=Hn();return e.setCompanyProps(t),Object(n.jsxs)(Y.a,Object(b.a)(Object(b.a)({},e),{},{container:!0,spacing:0,children:[Object(n.jsx)(P.a,{variant:"outlined",className:r.inlineField,fullWidth:!0,source:"Entreprise"}),Object(n.jsx)(P.a,{variant:"outlined",className:r.inlineField,fullWidth:!0,source:"Adresse"}),Object(n.jsx)(P.a,{variant:"outlined",className:r.inlineField,fullWidth:!0,label:"SIRET",source:"SIRET"}),Object(n.jsx)(P.a,{variant:"outlined",multiline:!0,className:r.fullWidth,fullWidth:!0,source:"Concept / Notes entreprise"})]}))},De=function(e){var t=Hn();return Object(n.jsxs)(B.a,Object(b.a)(Object(b.a)({label:"G\xe9n\xe9ral",contentClassName:"",variant:"outlined"},e),{},{children:[Object(n.jsx)(P.a,{source:"Nom",formClassName:t.fullWidth,fullWidth:!0}),Object(n.jsx)(H.a,{source:"Statut",formClassName:t.inlineHalfField,optionText:"id",choices:Fe}),Object(n.jsx)(H.a,{error:e.error&&e.error.Owner,helperText:e.error&&e.error.Owner,formClassName:t.inlineHalfField,source:"Owner name",label:"Owner",optionText:"name",optionValue:"name",choices:xe}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Infos Client"}),Object(n.jsx)($.a,{link:!1,fullWidth:!0,source:"Client[0]",label:"",reference:"clients",children:Object(n.jsx)(ee.a,Object(b.a)(Object(b.a)({},e),{},{setClientProps:e.setClientProps,render:function(e){return Object(n.jsx)(Ae,Object(b.a)({},e))}}))}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Infos Entreprise"}),Object(n.jsx)($.a,{link:!1,fullWidth:!0,source:"Client[0]",label:"",reference:"clients",children:Object(n.jsx)(ee.a,Object(b.a)(Object(b.a)({},e),{},{setCompanyProps:e.setCompanyProps,save:function(e){return console.log(e)},render:function(e){return Object(n.jsx)(Ee,Object(b.a)({},e))}}))}),Object(n.jsx)(M.a,{variant:"h6",children:"Toutes les demandes du client"}),Object(n.jsx)($.a,{link:!1,fullWidth:!0,source:"Client[0]",label:"",reference:"clients",children:Object(n.jsx)(A.a,{source:"Listes",reference:"listes",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})})})]}))},Me=r(130),_e=r(442),Le=r(689),Ie=r(686),Ve=r(687),qe=r(688),Re=r(694),Be=r(710),ze=r(742),Ge=r(54),Ue=r(7),Xe=r(739),Je=r(721),Ke=r(206),Ze=r(717),Qe=r(718),Ye=r(746),$e=r(394),et=r(716),tt=r(719),rt=r(720),nt=r(239),at=r(26),it=r(27),ct=r(390),st=r(712),ot=r(632),lt=r(627),dt=r(169),jt=r(112),ut=r(167),bt=r.n(ut),Ot=[{id:"Monophas\xe9 (230V - 50Hz)",name:"Monophas\xe9 (230V - 50Hz)"},{id:"Triphas\xe9 (380-400V - 50Hz)",name:"Triphas\xe9 (380-400V - 50Hz)"},{id:"Gaz",name:"Gaz"}],ht=[{id:"Nickel-Chrome",name:"Nickel-Chrome"},{id:"Tr\xe8s bon \xe9tat",name:"Tr\xe8s bon \xe9tat"},{id:"Etat correct",name:"Etat correct"},{id:"Pas bien beau",name:"Pas bien beau"}],xt=[{id:"A retraiter",name:"A retraiter"},{id:"En attente de relecture",name:"En attente de relecture"},{id:"Bloqu\xe9",name:"Bloqu\xe9"},{id:"Sur E-shop",name:"Sur E-shop"},{id:"Disponible",name:"Disponible"},{id:"R\xe9serv\xe9",name:"R\xe9serv\xe9"},{id:"Vendu hors Vesto",name:"Vendu hors Vesto"},{id:"Vendu par Vesto",name:"Vendu par Vesto"}],mt=r(380),ft=r(695),pt=r(426),vt=r(709),gt=r(625),Ct=y("https://api.airtable.com/v0/app7dXu5oLwGP1OX5"),yt=function(){var e=Object(x.a)(h.a.mark((function e(t,r){var n,a,i,c,s,o,l,d,j,u,b,O,x,m,f,p,v,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="ck_6a6f1c2c366888c899cc63da01c68917b684c3dd",a="cs_ca5d86211b3f8b40bd21ca2831eeb8269c2d4afa",i={"Nickel-Chrome":"nickel-chrome","Tr\xe8s bon \xe9tat":"tres-bon-etat","Etat correct":"etat-correct","Pas bien beau":"pas-bien-beau"},c="",t.Etat&&(c=i[t.Etat]),s={name:t.Type+" "+t.Marque+" - "+t.Modele,type:"variable",status:"draft",regular_price:t["Prix neuf HT"].toString()||"10000",sale_price:t["Prix HT"].toString()&&t["Prix HT"].toString(),description:"<p><strong>Les plus du produit</strong></p>Ajouter des plus",short_description:'<p><strong style="color: #04605e;">Les engagements de Vesto</strong><br />\n<img class="alignnone wp-image-1412" src="https://vesto.fr/wp-content/uploads/2020/04/check-3-300x300.png" alt="" width="21" height="21" /> Garantie 6 mois, pi\xe8ces et main d&rsquo;&oelig;uvre<br />\n<img class="alignnone wp-image-1412" src="https://vesto.fr/wp-content/uploads/2020/04/check-3-300x300.png" alt="" width="22" height="22" /> Parfait \xe9tat de marche<br />\n<img class="alignnone wp-image-1412" src="https://vesto.fr/wp-content/uploads/2020/04/check-3-300x300.png" alt="" width="21" height="21" /> Enti\xe8rement reconditionn\xe9</p>\n<p><strong style="color: #04605e;">L&rsquo;avis de Vesto</strong><br />'+t["Avis Vesto"]+"</p>\n",attributes:[{id:9,name:"Localisation",position:0,visible:!0,variation:!1,options:[t.Localisation&&t.Localisation.toString()||"Paris"]},{id:0,name:"Poids",position:8,visible:!0,variation:!1,options:[t.Poids||""]},{id:2,name:"Marque",position:1,visible:!0,variation:!1,options:[t.Marque||""]},{id:3,name:"Mod\xe8le",position:2,visible:!0,variation:!1,options:[t.Modele||""]},{id:4,name:"Dimensions (mm)",position:3,visible:!0,variation:!1,options:[t.Dimensions||""]},{id:6,name:"Alimentation",position:3,visible:!0,variation:!1,options:[t.Alimentation[0]||""]},{id:7,name:"Puissance (kw)",position:4,visible:!0,variation:!1,options:[t.Puissance||""]},{id:8,name:"Capacit\xe9",position:5,visible:!0,variation:!1,options:[t["Capacit\xe9"]||""]},{id:1,name:"Ann\xe9e de fabrication",position:6,visible:!0,variation:!1,options:[t["Ann\xe9e"]||""]},{id:21,name:"Etat",position:8,visible:!1,variation:!0,options:"pas-bien-beau"===c?["Pas Bien Beau"]:["Nickel-Chrome","Tr\xe8s Bon Etat","Etat Correct"]}],default_attributes:[t.Etat&&{id:21,name:"Etat",option:c}],meta_data:[{id:7818,key:"yikes_woo_products_tabs",value:[{title:"Transparence des prix",id:"transparence-des-prix",content:"Pas d'entourloupes chez VESTO ! Voici plus d'informations sur les prix que vous voyez sur cette page :)\r\n\r\nLe <strong style=\"color: #04605e;\">prix neuf indiqu\xe9</strong> (ray\xe9) est le prix indicatif public, c'est-\xe0-dire, le <strong style=\"color: #04605e;\">prix constat\xe9 chez les revendeurs et distributeurs</strong> de cet \xe9quipement.\r\n\r\nLe <strong style=\"color: #04605e;\">prix de vente indiqu\xe9 n'inclut pas le service de livraison</strong>. (plus d'informations dans l'onglet Livraison)"},{title:"Livraison",id:"livraison",content:'Une fois votre r\xe9servations effectu\xe9e, nous vous contacterons pour pr\xe9ciser vos besoins et \xe9tablir des <strong style="color: #04605e;">devis chez nos partenaires transporteurs.</strong> Nous choisirons le plus comp\xe9titif pour vous assurer une <strong style="color: #04605e;">livraison au meilleur prix</strong> !\r\n\r\nChez VESTO, nous avons \xe0 c\u0153ur de vous proposer la meilleure exp\xe9rience possible ! C\'est pour cela que l\'<strong style="color: #04605e;">on travaille en ce moment sur l\'int\xe9gration d\'un module de livraison</strong> qui vous permettra, tr\xe8s bient\xf4t, de calculer directement les co\xfbts de livraison depuis le site internet.'}]}]},o=[],"pas-bien-beau"===c?(l={regular_price:t["Prix neuf HT"].toString()||"10000",sale_price:t["Prix HT"].toString()||"",manage_stock:!0,stock_quantity:1,attributes:[{id:21,name:"Etat",option:"Pas Bien Beau"}]},o.push(l)):(d={regular_price:"nickel-chrome"===c&&(t["Prix neuf HT"].toString()||"10000")||"",sale_price:"nickel-chrome"===c&&t["Prix HT"].toString()&&t["Prix HT"].toString()||"",manage_stock:"nickel-chrome"===c,stock_quantity:1,attributes:[{id:21,name:"Etat",option:"Nickel-Chrome"}]},o.push(d),j={regular_price:"tres-bon-etat"===c&&(t["Prix neuf HT"].toString()||"10000")||"",sale_price:"tres-bon-etat"===c&&t["Prix HT"].toString()&&t["Prix HT"].toString()||"",manage_stock:"tres-bon-etat"===c,stock_quantity:1,attributes:[{id:21,name:"Etat",option:"Tr\xe8s Bon Etat"}]},o.push(j),u={regular_price:"etat-correct"===c&&(t["Prix neuf HT"].toString()||"10000")||"",sale_price:"etat-correct"===c&&t["Prix HT"].toString()&&t["Prix HT"].toString()||"",manage_stock:"etat-correct"===c,stock_quantity:1,attributes:[{id:21,name:"Etat",option:"Etat Correct"}]},o.push(u)),e.next=10,fetch("https://vesto.fr/wp-json/wc/v3/products?consumer_key="+n+"&consumer_secret="+a,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});case 10:return b=e.sent,e.next=13,b.json();case 13:if(!(O=e.sent).id){e.next=53;break}if(console.log("La machine a \xe9t\xe9 mise en ligne en brouillon"),x="https://vesto.fr/wp-admin/post.php?post="+O.id+"&action=edit",m="https://vesto.fr/?post_type=product&p="+O.id,"pas-bien-beau"!==c){e.next=28;break}return e.next=21,fetch("https://vesto.fr/wp-json/wc/v3/products/"+O.id+"/variations?consumer_key="+n+"&consumer_secret="+a,{method:"POST",body:JSON.stringify(o[0]),headers:{"Content-Type":"application/json"}});case 21:return f=e.sent,e.next=24,f.json();case 24:f=e.sent,e.next=49;break;case 28:return e.next=30,fetch("https://vesto.fr/wp-json/wc/v3/products/"+O.id+"/variations?consumer_key="+n+"&consumer_secret="+a,{method:"POST",body:JSON.stringify(o[0]),headers:{"Content-Type":"application/json"}});case 30:return p=e.sent,e.next=33,p.json();case 33:return p=e.sent,e.next=37,fetch("https://vesto.fr/wp-json/wc/v3/products/"+O.id+"/variations?consumer_key="+n+"&consumer_secret="+a,{method:"POST",body:JSON.stringify(o[1]),headers:{"Content-Type":"application/json"}});case 37:return v=e.sent,e.next=40,v.json();case 40:return v=e.sent,e.next=44,fetch("https://vesto.fr/wp-json/wc/v3/products/"+O.id+"/variations?consumer_key="+n+"&consumer_secret="+a,{method:"POST",body:JSON.stringify(o[2]),headers:{"Content-Type":"application/json"}});case 44:return g=e.sent,e.next=47,g.json();case 47:g=e.sent;case 49:return r("Ajout\xe9 en brouillon","info",{},!1),e.abrupt("return",{url:x,clientUrl:m});case 53:console.log("error: ",O),r("Erreur dans les variations","warning",{},!1);case 55:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Tt=["Type","Marque","Modele","Prix HT","Prix neuf HT","Dimensions","Capacit\xe9","Alimentation","Sous-Cat\xe9gorie","Etat"],Nt=function(e,t){var r={},n=!1;return e.setError("Obligatoire"),Tt.forEach((function(t){e.record[t]||(n=!0,r[t]="Obligatoire")})),e.reduction>-30?(t("Le prix est trop haut","warning",{},!1),!1):e.record["Avis Vesto"]?(e.setError(r),console.log("in validate",n,r),!n):(t("Il manque l'avis Vesto","warning",{},!1),!1)},Ft=function(){var e=Object(x.a)(h.a.mark((function e(t,r,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tr(t),e.next=3,Ct.update("vesto_stock",{id:t.id,data:Object(b.a)(Object(b.a)({},a),{},{Lien:r})});case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),kt=function(e){var t=Object(J.a)(),r=Object(Re.a)(),i=Object(a.useState)(!1),c=Object(_.a)(i,2),s=c[0],o=c[1],l=function(){var e=Object(x.a)(h.a.mark((function e(n){var a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("in handle click"),o(!0),!Nt(n,t)){e.next=14;break}return e.next=6,yt(n.record,t);case 6:a=e.sent,i=a.url,c=a.clientUrl,o(!1),window.open(i,"_blank"),Ft(n.record,c,r),e.next=15;break;case 14:t("Manque d'informations","warning",{},!1);case 15:r();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Q.a,Object(b.a)(Object(b.a)({},e),{},{color:"primary",variant:"contained",disabled:!e.pristine,onClick:function(){return l(e)},children:[s&&Object(n.jsx)(gt.a,{color:"inherit",size:20}),"  Ajouter au E-shop"]}))},St=r(749),wt=r(700),Wt=r(743),Pt=r(701),Ht=r(210),At=r(697),Et=r(377),Dt=r.n(Et),Mt=Object(me.a)({stepper:{background:"none"},card:{marginLeft:"0.3em",minWidth:"350px",maxWidth:"350px",height:"fit-content",overflow:"scroll",background:"none",maxHeight:"400px",boxShadow:"none"},addCard:{marginLeft:"24px",width:"350px",height:"fit-content"},title:{marginLeft:"24px",width:"350px",marginBottom:"20px"},grid:{height:"fit-content",maxWidth:"350px"}}),_t=function(e){var t=e.pristine,r=e.loading,a=e.handleSubmitWithRedirect,i=e.saving,c=e.setSaved,s=e.saved,o=Object(Pe.e)();return s&&(o.change("message",""),c(!1)),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)(P.a,{source:"message",fullWidth:!0,helperText:"",variant:"outlined",multiline:!0}),Object(n.jsx)(H.a,{source:"author",fullWidth:!0,label:"Auteur",choices:xe,validate:Object(Ht.c)(),optionText:"name",helperText:"",variant:"outlined"}),Object(n.jsx)(ft.a,{source:"tagued",fullWidth:!0,label:"A taguer",choices:xe,optionText:"name",variant:"outlined"}),Object(n.jsx)(V.a,{handleSubmitWithRedirect:function(e){a(e)},pristine:t,saving:i,disabled:r,label:"Commenter"})]})})},Lt=function(e){var t=Object(Re.a)(),r=Object(J.a)(),i=Object(At.a)("comments"),c=Object(_.a)(i,2),s=c[0],o=c[1].loading,l=Object(a.useState)(!1),d=Object(_.a)(l,2),j=d[0],u=d[1],b=function(){var n=Object(x.a)(h.a.mark((function n(a){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.recordId=e.record.id,a.author={id:a.author},a.tagued=a.tagued&&a.tagued.map((function(e){return{id:e}})),a.link=window.location.href,s({payload:{data:a}},{onSuccess:function(e){e.data;t(),u(!0)},onFailure:function(e){var t=e.error;r(t.message,"error"),console.log(t)}});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(n.jsx)(ee.a,{resource:"comments",save:b,render:function(e){var t=e.handleSubmitWithRedirect,r=e.pristine,a=e.saving;return Object(n.jsx)(_t,{handleSubmitWithRedirect:t,pristine:r,saving:a,loading:o,saved:j,setSaved:u})}})},It=function(e){var t=e.record,r=Mt(),i=Object(Ke.a)("comments",{page:1,perPage:100},{field:"date",order:"asc"},{recordId:t&&t.id}),c=i.data,s=i.ids;return Object(a.useEffect)((function(){!function(){if(document.getElementById("comments-card")){var e=document.getElementById("comments-card");e.scrollTop=e.scrollHeight}}()})),Object(n.jsxs)(Y.a,{container:!0,classes:{root:r.grid},children:[Object(n.jsx)(M.a,{variant:"h6",className:r.title,children:"Commentaires"}),s.length>0&&Object(n.jsx)(de.a,{classes:{root:r.card},id:"comments-card",children:Object(n.jsx)(St.a,{orientation:"vertical",classes:{root:r.stepper},children:s.map((function(e){return Object(n.jsxs)(wt.a,{expanded:!0,active:!0,completed:!0,children:[Object(n.jsx)(Wt.a,{StepIconComponent:Dt.a,children:"".concat(c[e].author.name," - ").concat(new Date(c[e].date).toLocaleDateString("fr",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}))}),Object(n.jsx)(Pt.a,{children:Object(n.jsx)(Vt,{comment:c[e].message})})]},c[e].id)}))})}),Object(n.jsx)(de.a,{classes:{root:r.addCard},children:Object(n.jsx)(Lt,{record:t})})]})},Vt=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(M.a,{variant:"body2",color:"textSecondary",className:"",children:e.comment})})},qt=Object(me.a)((function(e){return{inlineField:{display:"inline-block",width:"25%",marginRight:"8%",minWidth:"200px"},inline6Field:{display:"inline-block",width:"14%",marginRight:"3%",minWidth:"50px"},inlineHalfField:{display:"inline-block",width:"45%",marginRight:"5%",minWidth:"300px"},inline23Field:{display:"inline-block",width:"60%",marginRight:"6%",minWidth:"200px"},fullWidth:{width:"80%"},red:{fontWeight:"bold",color:"red"},green:{fontWeight:"bold",color:"green"},toolbar:{display:"flex",justifyContent:"space-between"},list:{display:"flex",listStyleType:"none"},image:{margin:"0.5rem",maxHeight:"15rem"}}})),Rt=y("https://api.airtable.com/v0/app7dXu5oLwGP1OX5"),Bt=function(e){var t={},r=!1;return["Type","Prix HT","Capacit\xe9","Alimentation","Sous-Cat\xe9gorie","Dimensions","Etat"].forEach((function(n){e[n]||(r=!0,t[n]="Obligatoire")})),!!r&&t},zt=function(e){var t=e.className,r=e.emptyText,a=e.record,i=e.source,c=e.source1,s=e.source2,o=e.src,l=e.title,d=a&&a[i],j=a&&a[c],u=a&&a[s],b=d?d.concat(j||[]).concat(u||[]):[],O=qt(e);if(!b)return r?Object(n.jsx)(M.a,{component:"span",variant:"body2",className:t,children:r}):Object(n.jsx)("div",{className:t});if(Array.isArray(b))return Object(n.jsx)("div",{style:{display:"flex","flex-wrap":"wrap"},children:b.map((function(e,t){var r=e[l]||l,a=e[o];return Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:a,rel:"noreferrer",target:"_blank",children:Object(n.jsx)("img",{alt:r,title:r,src:a,className:O.image})})},t)}))});var h=a?a[l]:l;return Object(n.jsx)("div",{className:t,children:Object(n.jsx)("a",{href:a&&a[i][o],rel:"noreferrer",target:"_blank",children:Object(n.jsx)("img",{title:h,alt:h,src:a&&a[i][o],className:O.image})})})},Gt=function(e){var t=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt.getList("categories",{pagination:{},sort:{field:"Cat\xe9gorie",order:"asc"},filter:{}});case 2:return t=e.sent,s(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=Object(a.useState)([]),i=Object(_.a)(r,2),c=i[0],s=i[1];Object(a.useEffect)((function(){t()}),[]);var o=qt(),l=Object(a.useState)(e.record["Prix HT"]),d=Object(_.a)(l,2),j=d[0],u=d[1],O=Object(a.useState)(e.record["Prix neuf HT"]),m=Object(_.a)(O,2),f=m[0],p=m[1],v=Math.round((j-f)/f*100),g=e.record.id;return Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({variant:"outlined",warnWhenUnsavedChanges:!0},e),{},{toolbar:Object(n.jsx)(Ut,Object(b.a)(Object(b.a)({},e),{},{setError:e.setError,reduction:v})),children:[Object(n.jsx)(P.a,{source:"Type",fullWidth:!0,formClassName:o.inline23Field,error:e.error&&e.error.Type,helperText:e.error&&e.error.Type}),Object(n.jsx)(A.a,{source:"Reconditionneur",reference:"reconditionneurs",formClassName:o.inline6Field,children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)(k.a,{source:"Source",formClassName:o.inline6Field}),Object(n.jsx)(H.a,{source:"Statut",formClassName:o.inlineField,choices:xt,optionText:"name"}),Object(n.jsx)(H.a,{formClassName:o.inlineHalfField,source:"Owner name",label:"Owner",optionText:"name",optionValue:"name",choices:xe}),Object(n.jsx)(M.a,{variant:"h6",children:"Caract\xe9ristiques"}),Object(n.jsx)(P.a,{source:"Marque",formClassName:o.inlineField,error:e.error&&e.error.Marque,helperText:e.error&&e.error.Marque}),Object(n.jsx)(P.a,{source:"Modele",formClassName:o.inlineField,error:e.error&&e.error.Modele,helperText:e.error&&e.error.Modele}),Object(n.jsx)(P.a,{source:"Ann\xe9e",formClassName:o.inlineField}),Object(n.jsx)(mt.a,{label:"Prix HT",source:"Prix HT",value:j,onChange:function(e){u(e.target.value)},formClassName:o.inlineField,error:e.error&&e.error["Prix HT"],helperText:e.error&&e.error["Prix HT"]}),Object(n.jsx)(mt.a,{label:"Prix neuf HT",source:"Prix neuf HT",value:f,onChange:function(e){p(e.target.value)},formClassName:o.inlineField,error:e.error&&e.error["Prix neuf HT"],helperText:e.error&&e.error["Prix neuf HT"]}),Object(n.jsx)(X.a,{className:v<=-30?o.green:o.red,label:"Pourcentage de r\xe9duction",render:function(e){return j&&f&&"".concat(v," %")},formClassName:o.inlineField}),Object(n.jsx)(P.a,{source:"Dimensions",formClassName:o.inlineField,error:e.error&&e.error.Dimensions,helperText:e.error&&e.error.Dimensions}),Object(n.jsx)(P.a,{source:"Capacit\xe9",formClassName:o.inlineField,error:e.error&&e.error["Capacit\xe9"],helperText:e.error&&e.error["Capacit\xe9"]}),Object(n.jsx)(ft.a,{source:"Alimentation",choices:Ot,optionText:"name",formClassName:o.inlineField,error:e.error&&e.error.Alimentation,helperText:e.error&&e.error.Alimentation}),Object(n.jsx)(P.a,{source:"Puissance",formClassName:o.inlineField}),Object(n.jsx)(P.a,{source:"Poids",formClassName:o.inlineField}),Object(n.jsx)(H.a,{formClassName:o.inlineField,source:"Etat",choices:ht,optionText:"name",error:e.error&&e.error.Etat,helperText:e.error&&e.error.Etat}),Object(n.jsx)(M.a,{variant:"h6",children:"Cat\xe9gories et Notes"}),Object(n.jsx)(pt.a,{source:"Sous-Cat\xe9gorie",reference:"categories",formClassName:o.inlineHalfField,children:Object(n.jsx)(vt.a,{setFilter:null,fullWidth:!0,choices:c.data?c.data:[],optionText:function(e){return"".concat(e&&e.Nom,"  -  ").concat(e&&e["Cat\xe9gorie"])},formClassName:o.inlineField,meta:{touched:e.error&&e.error["Sous-Cat\xe9gorie"],error:e.error&&e.error["Sous-Cat\xe9gorie"],submitError:e.error&&e.error["Sous-Cat\xe9gorie"]},helperText:e.error&&e.error["Sous-Cat\xe9gorie"]})}),Object(n.jsx)(M.a,{variant:"h6",children:" "}),Object(n.jsx)(P.a,{multiline:!0,fullWidth:!0,source:"Avis Vesto",formClassName:o.inlineHalfField}),Object(n.jsx)(P.a,{multiline:!0,fullWidth:!0,source:"Notes",formClassName:o.inlineHalfField}),Object(n.jsx)(M.a,{variant:"h6",children:"Documents"}),Object(n.jsx)(zt,{addLabel:!0,source:"Photo",source1:"Photo 2 (TECH)",source2:"Photo 3 (TECH)",src:"url",formClassName:o.inlineHalfField}),Object(n.jsx)(zt,{addLabel:!0,source:"Photo plaque",src:"url",formClassName:o.inlineHalfField}),Object(n.jsx)(Be.a,{source:"Fiche technique",src:"url",title:"filename",target:"_blank",fullWidth:!0}),Object(n.jsx)(Q.a,{href:"https://airtable.com/shrgizktKbhXC5z8J?prefill_Machine=".concat(g),formClassName:o.inline23Field,variant:"contained",color:"secondary",target:"_blank",children:"Ajouter une Fiche Technique"})]}))},Ut=function(e){return Object(n.jsxs)(I.a,Object(b.a)(Object(b.a)({},e),{},{classes:qt(),children:[Object(n.jsx)(V.a,{label:"Enregistrer",redirect:!1,disabled:e.pristine}),Object(n.jsx)(kt,{setError:e.setError,reduction:e.reduction}),Object(n.jsx)(Q.a,{color:"primary",variant:"contained",disabled:!e.record.Lien,href:e.record.Lien,target:"_blank",children:"Voir annonce"}),Object(n.jsx)(ie.a,{label:"Cloner",disabled:!e.pristine,record:e.record,basePath:e.basePath}),Object(n.jsx)(q.a,{label:"Supprimer"})]}))},Xt=function(e){var t=Object(J.a)(),r=Object(a.useState)(!1),i=Object(_.a)(r,2),c=i[0],s=i[1];return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{undoable:!1,transform:function(e){if("Disponible"===e.Statut){var r=Bt(e);return r?(s(r),e.Statut="A retraiter",console.log("has error",c,r),t("Pas assez d'infos pour passer en disponible","warning",{},!1)):s({}),tr(e)}return tr(e)},aside:Object(n.jsx)(It,{}),children:Object(n.jsx)(Gt,{error:c,setError:s})}))},Jt=r(55);function Kt(){var e=Object(Ge.a)(["\n    width: 900px;\n    max-width: 100vw;\n"]);return Kt=function(){return e},e}function Zt(){var e=Object(Ge.a)(["\n"]);return Zt=function(){return e},e}function Qt(){var e=Object(Ge.a)(["\n        width: 100%;\n        flex-wrap: wrap;\n        padding: 0;\n    "]);return Qt=function(){return e},e}var Yt=Object(Jt.a)(zt)(Qt()),$t=Jt.a.span(Zt()),er=Object(me.a)((function(e){return{inlineField:{display:"inline-block",width:"25%"},inlineHalfField:{display:"inline-block",width:"50%"},inline23Field:{display:"inline-block",width:"60%",marginRigth:"6%"},chip:{width:"auto"},chipMargin:{margin:"10px 0"},title:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"1em",fontWeight:"bold",minWidth:"400px"},edit:{margin:"0 1em"}}})),tr=function(e){var t=Object(b.a)({},e);if(delete t["ID Bubble"],delete t["Ajouter au E-shop"],delete t.Annonce,delete t.Localisation,delete t["Nom du reconditionneur (TECH)"],delete t["Nom client propos\xe9 (TECH)"],delete t["Cat\xe9gorie"],delete t["Date de cr\xe9ation"],delete t["Marque - Mod\xe8le"],delete t.id,delete t["Cat\xe9gorie"],delete t["Fiches techniques"],delete t.Today,t["Fiche technique"]=t["Fiche technique"]&&t["Fiche technique"].map((function(e){return delete e.rawFile,e})),t["Owner name"]){var r="";xe.forEach((function(e){e.name===t["Owner name"]&&(r=e.id)})),t.Owner=[{id:r}]}return delete t["Owner name"],t},rr=function(e){var t=er(),r=Object(b.a)({},e);return Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({},r),{},{margin:"normal",redirect:!1,warnWhenUnsavedChanges:!0,children:[Object(n.jsx)(k.a,{source:"Marque - Mod\xe8le",formClassName:t.inline23Field}),Object(n.jsx)(X.a,{label:"Prix HT",formClassName:t.inlineField,render:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Or,{children:[e["Prix HT"]," \u20ac"]}),"  ",e["Prix neuf HT"]&&Object(n.jsxs)(hr,{children:[e["Prix neuf HT"]," \u20ac"]})]})}}),Object(n.jsx)("br",{}),Object(n.jsx)(H.a,{onChange:function(){return e.setChanged(!0)},source:"Statut",choices:xt,optionText:"id"}),Object(n.jsx)(D.a,{source:"Etat",className:t.chip,formClassName:t.inlineHalfField}),Object(n.jsx)(D.a,{label:"Reconditionneur",source:"Nom du reconditionneur (TECH)",className:t.chip,formClassName:t.inlineHalfField}),Object(n.jsx)("br",{}),Object(n.jsxs)($t,{children:[Object(n.jsxs)(M.a,{children:[Object(n.jsx)("b",{children:"Dimensions:"})," ",r.record.Dimensions]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)("b",{children:"Capacit\xe9:"})," ",r.record["Capacit\xe9"]]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)("b",{children:"Puissance:"}),"  ",r.record.Puissance]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)("b",{children:"Alimentation:"}),"  ",r.record.Alimentation]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)("b",{children:"Localisation:"}),"  ",r.record.Localisation]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)("b",{children:"Reconditionneur:"}),"  ",r.record["Nom du reconditionneur (TECH)"]]}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{children:Object(n.jsx)("b",{children:"Notes:"})}),Object(n.jsx)(M.a,{children:r.record.Notes})]}),Object(n.jsx)("br",{}),Object(n.jsx)(Yt,{addLabel:!0,source:"Photo",source1:"Photo 2 (TECH)",source2:"Photo 3 (TECH)",src:"url"}),Object(n.jsx)(Yt,{addLabel:!0,source:"Photo plaque",src:"url"}),Object(n.jsx)(Be.a,{source:"Fiche technique",src:"url",title:"Fiche technique",target:"_blank"}),Object(n.jsx)(ct.a,{target:"_blank",source:"Lien"}),Object(n.jsx)(A.a,{source:"Propos\xe9e pour",reference:"machines_desirees",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(A.a,{source:"Client",reference:"listes",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{className:t.chipMargin,source:"Nom"})})})})}),Object(n.jsx)(G.a,{source:"Date de cr\xe9ation"})]}))},nr=Jt.a.div(Kt()),ar=function(e){var t=Object(st.a)("vesto_stock",e.recordId),r=Object(a.useState)(!1,[]),i=Object(_.a)(r,2),c=i[0],s=i[1],o=er(),l=Object(b.a)({},e);l.id=e.recordId,l.basePath="/vesto_stock",l.resource="vesto_stock",l.transform=tr,l.undoable=!1,l.redirect=!1;var d=Object(ot.a)(l),j=Object(J.a)();return Object(n.jsxs)(nr,{children:[Object(n.jsxs)("div",{className:o.title,children:[Object(n.jsx)(M.a,{variant:"h6",children:t&&t.data&&t.data.Type}),Object(n.jsx)(jt.a,{onClick:function(){c?j("Changements non sauvegard\xe9s","warning"):e.onCancel()},children:Object(n.jsx)(bt.a,{})})]}),t&&t.data&&Object(n.jsx)(lt.a,{value:d,children:Object(n.jsx)(dt.a,Object(b.a)(Object(b.a)(Object(b.a)({},l),d),{},{className:o.edit,aside:Object(n.jsx)(It,{}),children:Object(n.jsx)(rr,{setChanged:s})}))})]})},ir=function(e){var t=er(),r=Object(a.useState)(!1),i=Object(_.a)(r,2),c=i[0],s=i[1],o=Object(J.a)(),l=Object(st.a)("vesto_stock",e.recordId);return Object(n.jsxs)(nr,{children:[Object(n.jsxs)("div",{className:t.title,children:[Object(n.jsx)(M.a,{variant:"h6",children:l.data&&l.data.Type}),Object(n.jsx)(jt.a,{onClick:function(){c?o("Changements non sauvegard\xe9s","warning"):e.onCancel()},children:Object(n.jsx)(bt.a,{})})]}),Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{className:t.edit,aside:Object(n.jsx)(It,{}),undoable:!1,transform:tr,children:Object(n.jsx)(rr,{setChanged:s})}))]})};function cr(){var e=Object(Ge.a)(["\n    color: grey;\n    font-size: 16px;\n    text-decoration: line-through;\n    "]);return cr=function(){return e},e}function sr(){var e=Object(Ge.a)(["\n    color: #F9BC60;\n    font-weight: bold!important;\n    font-size: 16px;\n    .MuiTypography-body2 {\n        font-weight: bold!important;\n        font-size: 16px;\n    }\n    "]);return sr=function(){return e},e}function or(){var e=Object(Ge.a)(["\n    height: 100%;\n    background-size: cover;\n    background-repeat: no-repeat;\n    text-align: end;\n    background-position: center;\n    .MuiChip-root {\n        margin: 10px;\n        height: 25px;\n        color: white;\n        font-weight: bold;\n    }\n    .blue {\n        background-color: steelblue;\n    }\n    .green {\n        background-color: mediumseagreen;\n    }\n    .violet {\n        background-color: mediumslateblue;\n    }\n    .pink {\n        background-color: violet;\n    }\n    .red {\n        background-color: tomato;\n    }\n    .grey {\n        background-color: grey;\n    }\n    "]);return or=function(){return e},e}function lr(){var e=Object(Ge.a)(["\n    margin: 2px 9px;\n    font-weight: bold;\n    "]);return lr=function(){return e},e}var dr=Jt.a.div(lr()),jr=Jt.a.div(or()),ur={L2G:"blue",Infrico:"blue",Meiko:"blue","DM Equipements":"violet","Capek Solutions":"green",FCC:"red","Abdel/Samy":"pink",Maresca:"grey"},br=Object(Ue.a)({root:{"text-decoration":"none"}})(et.a),Or=Jt.a.span(sr()),hr=Jt.a.span(cr()),xr=function(e){var t=Object(Ke.a)("categories",{page:1,perPage:100},{field:"Cat\xe9gorie",order:"asc"},{}),r=t.data,a=t.ids;return Object(n.jsx)(de.a,{children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)(Ze.a,{source:"Marque",label:"Marque"}),Object(n.jsx)(Qe.a,{label:"Cat\xe9gories",children:["Froid","Chaud","Laverie","Pr\xe9paration alimentaire","Boulangerie-P\xe2tisserie","Inox"].map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(dr,{children:e}),a&&r&&a.map((function(t){return r[t]["Cat\xe9gorie"]===e&&Object(n.jsx)(Ye.a,{label:r[t].Nom,value:{"Sous-Cat\xe9gorie":[r[t].Nom]}},r[t].id)}))]})}))})]})})},mr=function(e){var t=Object(re.a)(),r=t.ids,i=t.data,c=t.basePath,s=Object(a.useState)(e.selectedId),o=Object(_.a)(s,2),l=o[0],d=o[1],j=function(t){return d(t),e.handleClick(t)};return Object(n.jsxs)(K.a,{width:"100%",children:[Object(n.jsx)(tt.a,{cols:4,cellHeight:300,children:r.map((function(t){return Object(n.jsx)(fr,Object(b.a)({id:t,data:i,basePath:c,selected:l===t,handleClickWithId:j},e))}))}),Object(n.jsx)(T.a,{})]})},fr=function(e){var t=e.id,r=e.data,a=e.basePath,i=e.selected,c=e.handleClickWithId,s="select"===e.variant?{onClick:function(){return c(t)}}:{component:at.a,key:t,to:Object(nt.a)(a,t)},o=r[t].Photo?{"background-image":'url("'.concat(r[t].Photo[0].thumbnails.large.url,'"')}:{},l=i?{border:"6px solid orange","border-radius":"4px"}:{};return Object(n.jsxs)(br,Object(b.a)(Object(b.a)(Object(b.a)({selected:i},e),s),{},{children:[Object(n.jsx)(jr,{style:Object.assign({},o,l),children:Object(n.jsx)(Z.a,{className:ur[r[t]["Nom du reconditionneur (TECH)"]],label:r[t]["Nom du reconditionneur (TECH)"]})},t),Object(n.jsx)(rt.a,{title:r[t].Type,subtitle:Object(n.jsxs)("span",{children:[Object(n.jsx)(Or,{children:Object(n.jsx)($e.a,{source:"Prix HT",record:r[t],options:{style:"currency",currency:"EUR"}})})," ",Object(n.jsx)("span",{children:" - "}),Object(n.jsx)(k.a,{source:"Marque",record:r[t]})," ",Object(n.jsx)("span",{children:" - "}),Object(n.jsx)(k.a,{source:"Modele",record:r[t]})]})})]}))},pr=function(e){var t=Object(it.g)(),r=Object(a.useCallback)((function(){t.push("/vesto_stock")}),[t]);return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(ce.a,Object(b.a)(Object(b.a)({},e),{},{perPage:50,sort:{field:"Date de cr\xe9ation",order:"DESC"},filter:{view:"SALES: Machines disponibles"},children:Object(n.jsxs)(K.a,{m:1,display:"flex",children:[Object(n.jsx)(xr,{}),Object(n.jsx)(mr,Object(b.a)({},e))]})})),Object(n.jsx)(it.b,{path:"/vesto_stock/:id",render:function(t){var a=t.match,i=a&&a.params&&"create"!==a.params.id;return Object(n.jsx)(Je.a,{open:i,anchor:"right",onClose:r,children:i?Object(n.jsx)(ir,Object(b.a)({recordId:a.params.id,id:a.params.id,onCancel:r},e)):null})}})]})},vr=r(41),gr=r(145),Cr=r.n(gr),yr=r(703),Tr=r(704),Nr=r(705),Fr=r(706),kr=r(226),Sr=r.n(kr),wr=r(722),Wr=Object(me.a)((function(e){return{root:{maxWidth:"500px"}}})),Pr=[{id:"Long terme: \xe0 recontacter"},{id:"Long terme: en veille"}],Hr=[{id:"Call de pr\xe9paration \xe0 faire"},{id:"Date install \xe0 planifier"},{id:"Date install planifi\xe9e"},{id:"Livr\xe9, en attente de mise en service"},{id:"Termin\xe9"}],Ar=[Pr,Hr],Er=function(e){var t=Object(re.a)(),r=t.filterValues,i=t.setFilters,c=t.displayedFilters,s=Object(a.useCallback)((function(e,t){i&&i(Object(b.a)(Object(b.a)({},r),{},{"Statut intervention":t}),c)}),[c,r,i]),o=Wr();return Object(n.jsxs)(Y.a,{container:!0,spacing:4,children:[Object(n.jsx)(Y.a,{item:!0,xs:4,children:Ar.map((function(e){return Object(n.jsxs)(Y.a,{item:!0,xs:12,children:[Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsx)(ue.a,{orientation:"vertical",centered:!0,value:r["Statut intervention"],indicatorColor:"primary",textColor:"primary",onChange:s,children:e.map((function(e){return Object(n.jsx)(be.a,{label:e.id,value:e.id,classes:o},e.id)}))})})}),Object(n.jsx)("br",{})]})}))}),Object(n.jsx)(Y.a,{item:!0,xs:8,children:Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsxs)(ne.a,{value:Object(b.a)({},t),children:[Object(n.jsxs)(F.a,Object(b.a)(Object(b.a)({},e),{},{rowClick:"edit",children:[Object(n.jsx)($.a,{source:"Client",reference:"clients",children:Object(n.jsx)(k.a,{source:"Client"})}),Object(n.jsx)(k.a,{source:"Adresse installation"}),Object(n.jsx)(k.a,{source:"P\xe9riode installation souhait\xe9e"}),Object(n.jsx)(G.a,{source:"Debut installation"})]})),Object(n.jsx)(T.a,{})]})})})})]})},Dr=function(e){return Object(n.jsxs)(ce.a,Object(b.a)(Object(b.a)({},e),{},{filterDefaultValues:{"Statut intervention":"Call de pr\xe9paration \xe0 faire"},perPage:10,children:[Object(n.jsx)(se.a,{children:Object(n.jsx)(le.a,{})}),Object(n.jsx)(Er,{})]}))},Mr=Object(me.a)((function(e){return{root:{maxWidth:"500px"}}})),_r=[{id:"SAV: Informations client n\xe9cessaire"},{id:"SAV: Client \xe0 recontacter"},{id:"SAV: En attente de pi\xe8ce"},{id:"SAV: Date de SAV \xe0 planifier"},{id:"SAV: Date de SAV planifi\xe9e"},{id:"SAV: R\xe9solu"}],Lr=[_r],Ir=function(e){var t=Object(re.a)(),r=t.filterValues,i=t.setFilters,c=t.displayedFilters,s=Object(a.useCallback)((function(e,t){i&&i(Object(b.a)(Object(b.a)({},r),{},{"Statut intervention":t}),c)}),[c,r,i]),o=Mr();return Object(n.jsxs)(Y.a,{container:!0,spacing:4,children:[Object(n.jsx)(Y.a,{item:!0,xs:4,children:Lr.map((function(e){return Object(n.jsxs)(Y.a,{item:!0,xs:12,children:[Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsx)(ue.a,{orientation:"vertical",centered:!0,value:r["Statut intervention"],indicatorColor:"primary",textColor:"primary",onChange:s,children:e.map((function(e){return Object(n.jsx)(be.a,{label:e.id,value:e.id,classes:o},e.id)}))})})}),Object(n.jsx)("br",{})]})}))}),Object(n.jsx)(Y.a,{item:!0,xs:8,children:Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsxs)(ne.a,{value:Object(b.a)({},t),children:[Object(n.jsxs)(F.a,Object(b.a)(Object(b.a)({},e),{},{rowClick:"edit",children:[Object(n.jsx)($.a,{source:"Client",reference:"clients",children:Object(n.jsx)(k.a,{source:"Client"})}),Object(n.jsx)(k.a,{source:"Adresse installation"}),Object(n.jsx)(G.a,{source:"Debut prochaine intervention"})]})),Object(n.jsx)(T.a,{})]})})})})]})},Vr=function(e){return Object(n.jsxs)(ce.a,Object(b.a)(Object(b.a)({},e),{},{filterDefaultValues:{"Statut intervention":"Call de pr\xe9paration \xe0 faire"},perPage:10,children:[Object(n.jsx)(se.a,{children:Object(n.jsx)(le.a,{})}),Object(n.jsx)(Ir,{})]}))},qr=Object(me.a)((function(e){return{inlineField:{display:"inline-block",width:"25%",marginRight:"8%",minWidth:"200px"},inline6Field:{display:"inline-block",width:"14%",marginRight:"3%",minWidth:"50px"},inlineHalfField:{display:"inline-block",width:"45%",marginRight:"5%",minWidth:"300px"},inline23Field:{display:"inline-block",width:"66%",minWidth:"200px"},fullWidth:{maxWidth:"80%"}}})),Rr=Pr.concat(Hr).concat(_r),Br=function(e){var t=Object(b.a)({},e);if(delete t["Num\xe9ro de Liste"],delete t["Nom par d\xe9faut"],delete t["Date de cr\xe9ation"],delete t["Nb machines"],delete t["Fiche hubspot"],delete t["Cr\xe9er devis"],delete t["Cr\xe9er proforma"],delete t.id,delete t.Entreprise,delete t["Pr\xe9nom client (auto)"],delete t["Nom client (auto)"],delete t["Lien hubspot"],delete t["Machines devis"],delete t["Reconditionneurs impliqu\xe9s"],delete t["Total services"],delete t["Total machines"],delete t.Total,delete t["Adresse client"],t["Owner name"]){var r="";xe.forEach((function(e){e.name===t["Owner name"]&&(r=e.id)})),t.Owner=[{id:r}]}return delete t["Owner name"],delete t["Temps depuis installation (mois)"],t},zr=function(e){var t=qr(),r=Object(J.a)();return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{transform:function(e){return"Date install planifi\xe9e"===e["Statut intervention"]?e["Debut installation"]&&e["Fin installation"]||(e["Statut intervention"]="Date install \xe0 planifier",r("Les dates d'installation ne sont pas renseign\xe9es","warning",{},!1)):"Termin\xe9"===e["Statut intervention"]&&(e["CR pour les Sales"]||(e["Statut intervention"]="Date install planifi\xe9e",r("Il manque le CR pour les sales","warning",{},!1))),Br(e)},undoable:!1,aside:Object(n.jsx)(It,{}),children:Object(n.jsxs)(W.a,{variant:"outlined",warnWhenUnsavedChanges:!0,redirect:!1,children:[Object(n.jsx)(k.a,{source:"Nom",formClassName:t.inlineField}),Object(n.jsx)(H.a,{optionText:"id",formClassName:t.inlineField,choices:Rr,source:"Statut intervention"}),Object(n.jsx)($.a,{source:"Client",reference:"clients",formClassName:t.inlineField,children:Object(n.jsx)(An,{})}),Object(n.jsx)(P.a,{multiline:!0,fullWidth:!0,label:"Notes installs / SAV",source:"Notes installs / SAV",formClassName:t.fullWidth}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Informations install"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{source:"Adresse installation",formClassName:t.fullWidth,fullWidth:!0}),Object(n.jsx)(P.a,{source:"Acces",fullWidth:!0,formClassName:t.inlineHalfField}),Object(n.jsx)(P.a,{source:"Souhait de reprise",formClassName:t.inlineHalfField,fullWidth:!0}),Object(n.jsx)(P.a,{source:"P\xe9riode installation souhait\xe9e",formClassName:t.inlineField}),Object(n.jsx)(P.a,{source:"Urgence et indisponibilit\xe9s",formClassName:t.inline23Field}),Object(n.jsx)(wr.a,{source:"Debut installation",formClassName:t.inlineField}),Object(n.jsx)(wr.a,{source:"Fin installation",formClassName:t.inlineField}),Object(n.jsx)(P.a,{multiline:!0,fullWidth:!0,label:"CR pour les sales",source:"CR pour les Sales",formClassName:t.fullWidth}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Machines"}),Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{source:"Machines devis",reference:"vesto_stock",children:Object(n.jsx)(dn,{editable:!1})})]})}))},Gr=y("https://api.airtable.com/v0/app7dXu5oLwGP1OX5"),Ur=function(e){var t=Object(a.useState)(!1),r=Object(_.a)(t,2),i=r[0],c=r[1],s=Object(a.useState)(),o=Object(_.a)(s,2),l=o[0],d=o[1],j=Object(Re.a)(),u=function(){c(!1),d("")},O=function(){var t=Object(x.a)(h.a.mark((function t(){var r,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("var",e.var,e),"proforma"!==e.var){t.next=7;break}return r={id:e.record.id,data:Br(Object(b.a)(Object(b.a)({},e.record),{},{"Machines proforma":e.record["Machines proforma"]?e.record["Machines proforma"].concat([l]):[l]}))},t.next=5,Gr.update("listes",r);case 5:t.next=10;break;case 7:return n={id:e.record.id,data:{"D\xe9tails":e.record["D\xe9tails"],"Type de machine":e.record["Type de machine"],Client:e.record.Client,"Mach. possibles":e.record["Mach. possibles"]?e.record["Mach. possibles"].concat([l]):[l]}},t.next=10,Gr.update("machines_desirees",n);case 10:c(!1),d(""),j();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(vr.a,{onClick:function(){c(!0)},children:Object(n.jsx)(Cr.a,{})}),Object(n.jsxs)(yr.a,{fullWidth:!0,maxWidth:"xl",open:i,onClose:u,children:[Object(n.jsx)(Tr.a,{children:"Ajouter une machine possible"}),Object(n.jsx)(Nr.a,{children:Object(n.jsx)(pr,{basePath:"/vesto_stock",resource:"vesto_stock",variant:"select",selectedId:"",handleClick:function(e){console.log("in handle select equipment",e),d(e)}})}),Object(n.jsxs)(Fr.a,{children:[Object(n.jsx)(vr.a,{label:"ra.action.cancel",onClick:u,children:Object(n.jsx)(Sr.a,{})}),Object(n.jsx)(V.a,{handleSubmitWithRedirect:O,disabled:!l})]})]})]})},Xr=r(89),Jr=r.n(Xr),Kr=r(723),Zr=r(423),Qr=r(236),Yr=Object(Zr.a)({palette:{primary:Qr.a}}),$r=y("https://api.airtable.com/v0/app7dXu5oLwGP1OX5"),en=function(e){var t=Object(Re.a)(),r=function(){var r=Object(x.a)(h.a.mark((function r(){var n,a;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.setDeleting(!0),"proforma"!==e.var){r.next=8;break}return e.record["Machines proforma"]&&e.record["Machines proforma"].splice(e.record["Machines proforma"].indexOf(e.equipmentId)),n={id:e.record.id,data:Br(Object(b.a)(Object(b.a)({},e.record),{},{"Machines proforma":e.record["Machines proforma"]}))},r.next=6,$r.update("listes",n);case 6:r.next=12;break;case 8:return e.record["Mach. possibles"]&&e.record["Mach. possibles"].splice(e.record["Mach. possibles"].indexOf(e.equipmentId)),a={id:e.record.id,data:{"D\xe9tails":e.record["D\xe9tails"],"Type de machine":e.record["Type de machine"],Client:e.record.Client,"Mach. possibles":e.record["Mach. possibles"]}},r.next=12,$r.update("machines_desirees",a);case 12:t(),e.setDeleting(!1);case 14:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(n.jsx)(Kr.a,{theme:Yr,children:Object(n.jsx)(jt.a,{edge:"start",size:"medium","aria-label":"delete",onClick:function(){return r(e)},children:Object(n.jsx)(Jr.a,{})})})};function tn(){var e=Object(Ge.a)(["\n    :last-child {\n        padding-bottom: 16px;\n    }\n    .blue {\n        background-color: #4682b496;\n    }\n    .green {\n        background-color: #3cb37170;\n    }\n    .violet {\n        background-color: #7b68ee80;\n    }\n    .pink {\n        background-color: #ee82ee80;\n    }\n    .red {\n        background-color: #ff634770;\n    }\n    .grey {\n        background-color: grey;\n    }\n    "]);return tn=function(){return e},e}function rn(){var e=Object(Ge.a)(["\n    :hover {\n        cursor: pointer;\n    }\n    "]);return rn=function(){return e},e}function nn(){var e=Object(Ge.a)(["\n    width: 400px;\n    "]);return nn=function(){return e},e}var an=Object(me.a)((function(e){return{inlineField:{width:"30%",marginRight:"3%",minWidth:"fit-content"}}})),cn=Jt.a.div(nn()),sn=Object(Jt.a)(de.a)(rn()),on=Object(Jt.a)(je.a)(tn()),ln={"En attente de relecture":"blue","R\xe9serv\xe9":"violet","Sur E-shop":"green",Disponible:"green","Vendu hors Vesto":"red","Vendu par Vesto":"red","Bloqu\xe9":"pink"},dn=function(e){var t=Object(a.useState)(!1),r=Object(_.a)(t,2),i=r[0],c=r[1],s=Object(a.useState)(),o=Object(_.a)(s,2),l=o[0],d=o[1],j=Object(a.useState)(!1),u=Object(_.a)(j,2),b=u[0],O=u[1],h=e.editable,x=an();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(cn,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:1,display:"flex",flexDirection:"column",justify:"flex-start",children:[e.ids.map((function(t){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(sn,{onClick:function(){c(!0),d(t)},children:Object(n.jsx)(on,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:3,children:[Object(n.jsxs)(Y.a,{item:!0,xs:8,children:[Object(n.jsx)("span",{style:{"font-weight":"bold"},children:e.data[t]&&e.data[t].Type}),Object(n.jsxs)(M.a,{variant:"body2",children:[e.data[t]&&e.data[t].Marque," - ",e.data[t]&&e.data[t].Modele]}),Object(n.jsx)(M.a,{children:Object(n.jsxs)(Or,{children:[e.data[t]&&e.data[t]["Prix HT"]," \u20ac"]})}),Object(n.jsx)(Z.a,{className:"".concat(e.data[t]&&e.data[t]["Nom du reconditionneur (TECH)"]&&ur[e.data[t]["Nom du reconditionneur (TECH)"][0]]," ").concat(x.inlineField),label:e.data[t]&&e.data[t]["Nom du reconditionneur (TECH)"]&&e.data[t]["Nom du reconditionneur (TECH)"][0]}),Object(n.jsx)(Z.a,{className:"".concat(e.data[t]&&ln[e.data[t].Statut]," ").concat(x.inlineField),label:e.data[t]&&e.data[t].Statut}),h&&Object(n.jsx)(en,{var:e.var,setDeleting:O,equipmentId:t,record:e.record})]}),Object(n.jsx)(Y.a,{container:!0,item:!0,xs:4,children:Object(n.jsx)("div",{style:{overflow:"hidden","max-height":"130px"},children:Object(n.jsx)("img",{width:"100%",alt:t,src:e.data[t]&&e.data[t].Photo&&e.data[t].Photo[0].thumbnails.large.url})})})]})})})}),Object(n.jsx)(Je.a,{open:i&&l===t&&!b,anchor:"right",children:t&&Object(n.jsx)(ar,{recordId:t,onCancel:function(){return c(!1)}})})]})})),h&&Object(n.jsx)(Ur,{var:e.var,record:e.record})]})})})};function jn(){var e=Object(Ge.a)(["\n    min-width: 300px;\n    max-width: 400px;\n    margin: 10px;\n    .green {\n        background-color: #3cb37170;\n    }\n    .red {\n        background-color: #ff634770;\n    }\n    "]);return jn=function(){return e},e}var un=Jt.a.div(jn()),bn=Object(Ue.a)({root:{width:"100%"}})(Xe.a),On=function(e){return{"Type de machine":e["Type de machine"],"D\xe9tails":e["D\xe9tails"],Client:e.Client,"Mach. possibles":e["Mach. possibles"],"A rechercher":e["A rechercher"]}},hn=function(e){return{"Type de machine":e["Type de machine"],"D\xe9tails":e["D\xe9tails"]||"<br/> ",Client:[e.id],"A rechercher":e["A rechercher"]}},xn=function(e){return Object(n.jsx)(A.a,Object(b.a)(Object(b.a)({label:"Machines possibles",source:"Mach. possibles",reference:"vesto_stock"},e),{},{children:Object(n.jsx)(dn,Object(b.a)(Object(b.a)({},e),{},{editable:!0}))}))},mn=function(e){return Object(n.jsxs)(un,{children:[Object(n.jsx)(M.a,{variant:"h6",children:e.record&&e.record["Type de machine"]}),Object(n.jsx)(U.a,Object(b.a)({source:"D\xe9tails"},e)),Object(n.jsx)(Z.a,{className:e.record&&(e.record["A rechercher"]?"green":"red"),label:e.record&&(e.record["A rechercher"]?"Recherch\xe9":"Non recherch\xe9")})]})},fn=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(F.a,Object(b.a)(Object(b.a)({expand:pn},e),{},{children:[Object(n.jsx)(mn,{label:"Machines d\xe9sir\xe9es"}),Object(n.jsx)(xn,{label:"Machines propos\xe9es"}),Object(n.jsx)(q.a,{redirect:!1,label:""})]}))})},pn=function(e){return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({transform:On},e),{},{children:Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({variant:"outlined",redirect:""},e),{},{children:[Object(n.jsx)(P.a,{fullWidth:!0,source:"Type de machine"}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,source:"D\xe9tails"}),Object(n.jsx)(z.a,{source:"A rechercher"})]}))}))},vn=function(e){return Object(n.jsx)(bn,Object(b.a)(Object(b.a)({transform:hn},e),{},{resource:"machines_desirees",children:Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({},e),{},{redirect:!1,title:" ",variant:"outlined",children:[Object(n.jsx)(P.a,{fullWidth:!0,source:"Type de machine"}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,source:"D\xe9tails"}),Object(n.jsx)(z.a,{source:"A rechercher"})]}))}))},gn=r(750),Cn=r(729),yn=r(730),Tn=r(634),Nn=r(728),Fn=function(e){var t=e.documentRecord,r=e.documentVariant,i=void 0===r?"devis":r,c=e.deposit,s=void 0===c?0:c,o=Object(a.useState)(!1),l=Object(_.a)(o,2),d=l[0],j=l[1],u=Object(J.a)(),b=Object(Re.a)(),O=t&&t.Client&&t.Client[0];console.log("record devis",t);var m=Object(st.a)("clients",O),f="proforma"===i?t["Machines proforma"]||[]:t["Machines devis"]||[],p=Object(Tn.a)("vesto_stock",f),v=Object(Tn.a)("vesto_stock",t.Livraison||[]),g=Object(Nn.a)("vesto_stock"),C=Object(_.a)(g,1)[0],y=function(e){console.log("in clic",m,p,v,i),u("Pensez bien \xe0 enregistrer les informations avant de cr\xe9er le document","info",{},!1);var t=p.data||[],r=v.data||[];t="proforma"===!i?t.concat(r):t;var n="",a="",c="",o="",l="",d="",j=[];console.log("productsData",t),t.forEach((function(e){e.Statut.includes("Reserv\xe9")&&"devis"===i&&u("ATTENTION: La machine "+e.Type+" "+e.Marque+" est d\xe9j\xe0 r\xe9serv\xe9e. Elle a quand m\xeame \xe9t\xe9 ajout\xe9e au devis.","warning"),(e.Statut.includes("Vendu")||e.Statut.includes("Livraison"))&&e.Statut.includes("Vendu")&&"devis"===i&&u("ATTENTION: La machine "+e.Type+" "+e.Marque+" est vendue. Elle ne peut pas \xeatre ajout\xe9e au devis.","warning"),e.Statut.includes("Vendu")||(n+="1,",a+=e.Type+",",c+=(e.Marque||"")+(e.Marque&&e.Modele?" - ":"")+(e.Modele||"")+",",o+=(e.Alimentation&&e.Alimentation[0]||"")+",",d+=(e.Dimensions||"")+",",l+=e["Prix HT"]+",",e.Statut.includes("Livraison")||j.push(e.id)),"devis"===i&&C({payload:{ids:j,data:{Statut:"R\xe9serv\xe9"}}})})),console.log("client",m,m.data);for(var b={company:m.data.Entreprise||"",city:m.data.Adresse||"",firstname:m.data["Pr\xe9nom"]||"",lastname:m.data.Nom||"",tel:m.data["T\xe9l\xe9phone"]||"",mail:m.data.email||"",siret:m.data.SIRET||"",numberList:n,typeList:a,modelList:c,alimentationList:o,dimensionList:d,priceList:l,id:e["Num\xe9ro de Liste"],deposit:s},O="devis"===i?"https://script.google.com/a/vesto.fr/macros/s/AKfycbzbSt4Qnx_ZVxJAZWyJbWVP1k7oH4CPu_iLCezKFrHUadmVHcj4GI1awQClqhfCLT8l/exec?":"proforma"===document?"https://script.google.com/a/vesto.fr/macros/s/AKfycbzwanhW4zjnBqO-cOnJLOekajJnyZZWaimxpxHbmcQkEW9xzxB0AZA2i23dx_VFpPKB/exec?":"https://script.google.com/a/vesto.fr/macros/s/AKfycbyh9Rdm8IO9iXXI0pVfybK1RFGUjd79sawvUzHJAUTPwCaLfii1hEFdaKV_Z1ekjfwwKg/exec?",h=0;h<Object.keys(b).length;h++)O+=Object.keys(b)[h]+"="+encodeURI(b[Object.keys(b)[h]])+"&";return"devis"===i&&console.log("Les machines ont \xe9t\xe9 mises en statut R\xe9serv\xe9"),console.log(O),O},T=function(){var e=Object(x.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in handle click"),j(!0),e.next=5,y(t);case 5:r=e.sent,j(!1),n=window.open(r,"_blank"),window.close(n),e.next=12;break;case 11:u("Manque d'informations","warning",{},!1);case 12:b();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Q.a,{color:"primary",onClick:function(){return T(t)},variant:"contained",target:"_blank",children:[d&&Object(n.jsx)(gt.a,{color:"inherit",size:20}),"facture"===i?"  G\xe9n\xe9rer une ".concat(i):"  Cr\xe9er un ".concat(i)]})},kn=y("https://api.airtable.com/v0/app7dXu5oLwGP1OX5"),Sn=Object(Ue.a)({root:{width:"100%"}})(gn.a),wn=function(e){var t=Object(a.useState)(),r=Object(_.a)(t,2),i=r[0],c=r[1],s=Object(a.useState)(),o=Object(_.a)(s,2),l=o[0],d=o[1],j=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn.getList("services",{pagination:{},sort:{field:"Type",order:"asc"},filter:{Statut:"Livraison / Service"}});case 2:t=e.sent,console.log(t,"services"),d(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){j()}),[]);var u=Object(Re.a)(),O=function(){var t=Object(x.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(b.a)(Object(b.a)({},Br(e.record)),{},{Livraison:e.record.Livraison?e.record.Livraison.concat([i]):[i]}),t.next=3,kn.update("listes",{id:e.record.id,data:r});case 3:u();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(yr.a,{fullWidth:!0,maxWidth:"sm",open:e.open,onClose:function(){return e.setOpen(!1)},children:[Object(n.jsx)(Tr.a,{children:"Ajouter un service"}),l&&l.data&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Nr.a,{children:Object(n.jsx)(ze.a,{onChange:function(e,t){c(t.id)},options:l.data,getOptionLabel:function(e){return"".concat(e.Type," - ").concat(e["Prix HT"],"\u20ac")},style:{width:"100%"},renderInput:function(e){return Object(n.jsx)(Me.a,Object(b.a)(Object(b.a)({},e),{},{variant:"outlined",onChange:function(e){return c(e.target.value)}}))}})}),Object(n.jsxs)(Fr.a,{children:[Object(n.jsx)(V.a,{handleSubmitWithRedirect:function(){e.setOpen(!1),O()},disabled:!i}),Object(n.jsx)(Q.a,{label:"ra.action.cancel",onClick:function(){return e.setOpen(!1)},children:Object(n.jsx)(Sr.a,{})})]})]})]})},Wn=function(e){var t=Hn(),r=Object(a.useState)(!1),i=Object(_.a)(r,2),c=i[0],s=i[1];return console.log("props received",e),Object(n.jsxs)(B.a,Object(b.a)(Object(b.a)({label:"Besoin",path:"devis",contentClassName:"classes.tab"},e),{},{children:[Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Besoin"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{error:e.error&&e.error["P\xe9riode installation souhait\xe9e"],helperText:e.error&&e.error["P\xe9riode installation souhait\xe9e"],source:"P\xe9riode installation souhait\xe9e",fullWidth:!0,formClassName:t.inlineField}),Object(n.jsx)(P.a,{error:e.error&&e.error["Souhait de reprise"],helperText:e.error&&e.error["Souhait de reprise"],source:"Souhait de reprise",formClassName:t.inlineField,fullWidth:!0}),Object(n.jsx)(P.a,{error:e.error&&e.error.Acces,helperText:e.error&&e.error.Acces,source:"Acces",formClassName:t.inlineField,fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(z.a,{fullWidth:!0,formClassName:t.inlineLinkField,source:"Questions techniques",label:"Questions techniques pos\xe9es"}),Object(n.jsx)(_e.a,{target:"_blank",formClassName:t.inlineLinkField,href:"https://docs.google.com/spreadsheets/d/1cqxuPtnwpCVY-Z3i9GFcfNpDgryigc5MdHM8ij1v_c8/edit#gid=949304201",children:"(Lien vers questions techniques)"}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,error:e.error&&e.error.Notes,helperText:e.error&&e.error.Notes,source:"Notes",label:"Notes sur le besoin",formClassName:t.fullWidth}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Machines"}),Object(n.jsx)(A.a,{label:"",source:"Machines d\xe9sir\xe9es",reference:"machines_desirees",record:e.record,basePath:e.basePath,resource:e.resource,fullWidth:!0,children:Object(n.jsx)(fn,{})}),Object(n.jsxs)(Sn,{children:[Object(n.jsx)(Cn.a,{children:Object(n.jsx)(Cr.a,{})}),Object(n.jsx)(yn.a,{children:Object(n.jsx)(vn,{record:e.record,basePath:e.basePath})})]}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{fullWidth:!0,variant:"h6",children:"Livraison et services additionnels"}),Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{fullWidth:!0,source:"Livraison",reference:"vesto_stock",label:"",children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(k.a,{source:"Type"}),Object(n.jsx)(k.a,{source:"Prix HT",label:"Prix HT"})]})}),Object(n.jsx)("br",{}),Object(n.jsx)(Q.a,{color:"primary",variant:"contained",onClick:function(){return s(!0)},children:"Ajouter un service"}),Object(n.jsx)(wn,Object(b.a)(Object(b.a)({},e),{},{open:c,setOpen:s})),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Total"}),Object(n.jsx)("br",{}),Object(n.jsx)(Le.a,{fullWidth:!0,children:Object(n.jsx)(Ie.a,{children:Object(n.jsxs)(Ve.a,{children:[Object(n.jsx)(qe.a,{component:"th",scope:"row",children:"Total"}),Object(n.jsx)(qe.a,{align:"right",children:Object(n.jsxs)("b",{children:[e.record.Total," \u20ac"]})}),Object(n.jsx)(qe.a,{align:"right",children:"       "})]},"total")})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Devis"}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"body2",children:"Devis d\xe9j\xe0 cr\xe9\xe9s"}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,error:e.error&&e.error["Devis d\xe9j\xe0 cr\xe9\xe9s"],helperText:e.error&&e.error["Devis d\xe9j\xe0 cr\xe9\xe9s"],source:"Devis d\xe9j\xe0 cr\xe9\xe9s",label:"",formClassName:t.fullWidth}),Object(n.jsx)("br",{}),Object(n.jsx)(Fn,{documentRecord:e.record}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"body2",children:"Devis sign\xe9s"}),Object(n.jsx)(Be.a,{source:"Documents (devis, proforma, facture)",label:"",src:"url",title:"filename",target:"_blank",fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(Q.a,{href:"https://airtable.com/shri5NfTnd7KKTmXH?prefill_Client=".concat(e.record.id),formClassName:t.inline23Field,variant:"contained",color:"secondary",target:"_blank",children:"Ajouter un devis sign\xe9"})]}))},Pn=function(e){var t=Hn();return Object(n.jsxs)(B.a,Object(b.a)(Object(b.a)({label:"Proforma",path:"proforma",contentClassName:"classes.tab"},e),{},{children:[Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Machines pour le proforma"}),Object(n.jsx)(A.a,{source:"Machines proforma",reference:"vesto_stock",children:Object(n.jsx)(dn,{editable:!0,var:"proforma",record:e.record})}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Proformas d\xe9j\xe0 cr\xe9\xe9s"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,source:"Proforma d\xe9j\xe0 cr\xe9\xe9s",label:"",formClassName:t.fullWidth}),Object(n.jsx)("br",{}),Object(n.jsx)(Fn,{documentVariant:"proforma",documentRecord:e.record}),Object(n.jsx)("br",{})]}))},Hn=Object(me.a)((function(e){return{inlineField:{display:"inline-block",width:"25%",marginRight:"8%",minWidth:"200px"},inlineLinkField:{display:"inline-block"},inline6Field:{display:"inline-block",width:"14%",marginRight:"3%",minWidth:"50px"},inlineHalfField:{display:"inline-block",width:"45%",marginRight:"5%",minWidth:"300px"},inline23Field:{display:"inline-block",width:"60%",marginRight:"6%",minWidth:"200px"},fullWidth:{width:"80%"},toolbar:{display:"flex",justifyContent:"space-between"},chip:{margin:"0 5px 0 0"}}})),An=function(e){var t=e.record;return Object(n.jsxs)(K.a,{display:"flex",flexDirection:"column",children:[Object(n.jsxs)(M.a,{component:at.a,color:"primary",to:"/clients/".concat(null===t||void 0===t?void 0:t.id),children:[t["Pr\xe9nom"]," ",t.Nom]}),Object(n.jsx)(M.a,{to:"",children:t.Entreprise}),Object(n.jsx)(M.a,{to:"",children:t["T\xe9l\xe9phone"]})]})},En=function(e){var t=e;return delete e.Entreprise,delete e["Concept / Notes entreprise"],delete e.Adresse,delete e.SIRET,delete e["Fiche hubspot"],delete e.id,delete e.Client,t},Dn=function(e){var t=e;return delete e.Nom,delete e["Pr\xe9nom"],delete e["T\xe9l\xe9phone"],delete e.Source,delete e.email,delete e.Notes,delete e["Fiche hubspot"],delete e.id,delete e.Client,t},Mn=function(e){var t=Object(L.a)("clients"),r=Object(_.a)(t,1)[0],i=Object(a.useState)({}),c=Object(_.a)(i,2),s=c[0],o=c[1],l=Object(a.useState)({}),d=Object(_.a)(l,2),j=d[0],u=d[1],O=Hn(),h=function(e){return Object(n.jsxs)(I.a,Object(b.a)(Object(b.a)({},e),{},{classes:{toolbar:O.toolbar},alwaysEnableSaveButton:!0,children:[Object(n.jsx)(V.a,{onClick:x}),Object(n.jsx)(q.a,{undoable:!1})]}))},x=function(){var e=s.id,t=En(s),n=Dn(j),a=Object(b.a)(Object(b.a)({},t),n);console.log("update",a,e),r({payload:{id:e,data:a}},{onSuccess:function(e){e.data},onFailure:function(e){e.error}})};return Object(n.jsxs)(R.a,Object(b.a)(Object(b.a)({},e),{},{variant:"outlined",redirect:!1,toolbar:Object(n.jsx)(h,{}),warnWhenUnsavedChanges:!0,children:[Object(n.jsx)(De,{setClientProps:o,setCompanyProps:u}),Object(n.jsx)(Wn,Object(b.a)({},e)),Object(n.jsx)(Pn,Object(b.a)({},e)),Object(n.jsxs)(B.a,{label:"Op\xe9rations",path:"operations",children:[Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",fullWidth:!0,children:"G\xe9n\xe9ral"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{error:e.error&&e.error["Adresse installation"],helperText:e.error&&e.error["Adresse installation"],source:"Adresse installation",formClassName:O.fullWidth,fullWidth:!0}),Object(n.jsx)(P.a,{error:e.error&&e.error.Acces,helperText:e.error&&e.error.Acces,source:"Acces",fullWidth:!0,formClassName:O.inlineHalfField}),Object(n.jsx)(P.a,{error:e.error&&e.error["Souhait de reprise"],helperText:e.error&&e.error["Souhait de reprise"],source:"Souhait de reprise",formClassName:O.inlineHalfField,fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",fullWidth:!0,children:"D\xe9lais"}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"body1",fullWidth:!0,children:"Si install dans plus de 2 semaines"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{error:e.error&&e.error["P\xe9riode installation souhait\xe9e"],helperText:e.error&&e.error["P\xe9riode installation souhait\xe9e"],source:"P\xe9riode installation souhait\xe9e",formClassName:O.inlineField}),Object(n.jsx)(M.a,{variant:"body1",fullWidth:!0,children:"Si install dans moins de 2 semaines"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{source:"Urgence et indisponibilit\xe9s",formClassName:O.inline23Field,fullWidth:!0}),Object(n.jsx)(z.a,{formClassName:O.inlineHalfField,fullWidth:!0,source:"Cr\xe9neau install book\xe9",label:"Cr\xe9neau install book\xe9 dans le calendrier"}),Object(n.jsx)(z.a,{formClassName:O.inlineHalfField,fullWidth:!0,source:"Mail client avec ops en copie",label:"Mail client avec ops en copie envoy\xe9"}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",fullWidth:!0,children:"Statut des op\xe9rations"}),Object(n.jsx)("br",{}),Object(n.jsx)(D.a,{source:"Statut intervention",formClassName:O.inlineField}),Object(n.jsx)(G.a,{source:"Debut installation",label:"Date d'installation",formClassName:O.inlineField}),Object(n.jsx)(G.a,{source:"Debut prochaine intervention",label:"Date prochaine intervention (SAV)",formClassName:O.inlineField}),Object(n.jsx)(U.a,{label:"CR pour les sales",source:"CR pour les Sales",formClassName:O.fullWidth}),Object(n.jsx)(z.a,{source:"Call de fin"})]}),Object(n.jsxs)(B.a,{label:"Facturation",path:"factures",children:[Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",fullWidth:!0,children:"Factures clients"}),Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{label:"",fullWidth:!0,source:"Facture client",reference:"factures_clients",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(X.a,{fullWidth:!0,render:function(e){return Object(n.jsx)(Z.a,{className:O.chip,label:"".concat(e.Nom," ").concat(e["Total (HT)"]||"0"," \u20ac")})}})})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(Q.a,{target:"_blank",color:"primary",variant:"contained",component:at.a,to:{pathname:"/factures_clients/create",search:"?source=".concat(JSON.stringify({Client:[e.record.id]}))},children:"Cr\xe9er facture client"}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",fullWidth:!0,children:"Factures partenaires"}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"body",fullWidth:!0,children:'Les factures reconditionneurs sont cr\xe9\xe9es automatiquement quand la demande passe en statut "devis sign\xe9"'}),Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{label:"",fullWidth:!0,source:"Services reconditionneurs",reference:"factures",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(X.a,{fullWidth:!0,render:function(e){return Object(n.jsx)(Z.a,{className:O.chip,label:"".concat(e.Name||""," ").concat(e["Valeur (HT)"]||"0"," \u20ac")})}})})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(Q.a,{target:"_blank",color:"primary",variant:"contained",component:at.a,to:{pathname:"/factures/create",search:"?source=".concat(JSON.stringify({Client:[e.record.id]}))},children:"Cr\xe9er facture partenaire"})]})]}))},_n={1:[],2:["Owner"],3:["Notes"],4:["P\xe9riode installation souhait\xe9e","Acces","Souhait de reprise","Questions techniques"],5:["Devis d\xe9j\xe0 cr\xe9\xe9s"],6:[],7:["Documents (devis, proforma, facture)"],8:["Adresse installation","P\xe9riode installation souhait\xe9e","Cr\xe9neau install book\xe9","Mail client avec ops en copie"],9:[],10:["Call de fin"],11:[],12:[]},Ln=function(e){var t=Object(a.useState)(!1),r=Object(_.a)(t,2),i=r[0],c=r[1],s=Object(J.a)();return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({undoable:!1,title:Object(n.jsx)(ge,{}),aside:Object(n.jsx)(It,{}),transform:function(e){c(!1);var t=function(e,t){for(var r={},n=!1,a=1;a<e+1;a++)_n[a]&&_n[a].forEach((function(e){t[e]||(n=!0,r[e]="Obligatoire")}));return!!n&&r}(function(e){var t=1;return Fe.forEach((function(r){r.id===e&&(t=r.number)})),t}(e.Statut),e);if(t){c(t),console.log("has error",t);var r="Il manque les informations suivantes pour passer au statut "+e.Statut+": ";Object.keys(t).forEach((function(e){console.log(e),r+=e+", "})),delete e.Statut,s(r,"warning",{},!1)}return Br(e)}},e),{},{children:Object(n.jsx)(Mn,{error:i})}))},In=function(e){var t=e;return delete e["Fiche hubspot"],delete e.id,delete e.Client,t},Vn=function(e){return Object(n.jsx)(T.a,Object(b.a)({rowsPerPageOptions:[10,25,50,100]},e))},qn=function(e){return Object(n.jsx)(N.a,Object(b.a)(Object(b.a)({},e),{},{perPage:100,pagination:Object(n.jsx)(Vn,{}),actions:!1,children:Object(n.jsxs)(F.a,{rowClick:"edit",children:[Object(n.jsx)(k.a,{source:"Client"}),Object(n.jsx)(k.a,{source:"Entreprise"}),Object(n.jsx)(S.a,{source:"email"}),Object(n.jsx)(k.a,{source:"T\xe9l\xe9phone"})]})}))},Rn=function(e){var t=Hn();return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{aside:Object(n.jsx)(It,{}),transform:In,children:Object(n.jsxs)(W.a,{children:[Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Infos Client"}),Object(n.jsx)(P.a,{variant:"outlined",formClassName:t.inlineField,fullWidth:!0,source:"Nom"}),Object(n.jsx)(P.a,{variant:"outlined",formClassName:t.inlineField,fullWidth:!0,source:"Pr\xe9nom"}),Object(n.jsx)(P.a,{variant:"outlined",formClassName:t.inlineField,fullWidth:!0,source:"T\xe9l\xe9phone"}),Object(n.jsx)(P.a,{variant:"outlined",formClassName:t.inline23Field,fullWidth:!0,source:"email"}),Object(n.jsx)(H.a,{choices:He,optionText:"id",variant:"outlined",formClassName:t.inlineField,fullWidth:!0,source:"Source"}),Object(n.jsx)(P.a,{variant:"outlined",multiline:!0,formClassName:t.fullWidth,fullWidth:!0,source:"Notes"}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Infos Entreprise"}),Object(n.jsx)(P.a,{variant:"outlined",formClassName:t.inlineField,fullWidth:!0,source:"Entreprise"}),Object(n.jsx)(P.a,{variant:"outlined",formClassName:t.inlineField,fullWidth:!0,source:"Adresse"}),Object(n.jsx)(P.a,{variant:"outlined",formClassName:t.inlineField,fullWidth:!0,label:"SIRET",source:"SIRET"}),Object(n.jsx)(P.a,{variant:"outlined",multiline:!0,formClassName:t.fullWidth,fullWidth:!0,source:"Concept / Notes entreprise"}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Toutes les demandes du client"}),Object(n.jsx)(A.a,{fullWidth:!0,source:"Listes",reference:"listes",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})})]})}))},Bn=r(107),zn=r(698),Gn=r(732),Un=r(427),Xn=r(725),Jn=r(726),Kn=r(727),Zn=r(217),Qn=r.n(Zn),Yn=Object(me.a)((function(e){return{switch:{width:"58px"}}})),$n=function(e){var t=Yn(),r=Hn(),i=Object(At.a)("clients"),c=Object(_.a)(i,1)[0],s=Object(At.a)("listes"),o=Object(_.a)(s,1)[0],l=Object(a.useState)(),d=Object(_.a)(l,2),j=d[0],u=d[1],O=Object(a.useState)(),m=Object(_.a)(O,2),f=m[0],p=m[1],v=Object(a.useState)([]),g=Object(_.a)(v,2),C=g[0],y=g[1],T=Object(a.useState)(!0),N=Object(_.a)(T,2),F=N[0],k=N[1],S=Object(Bn.a)(),w=Object(zn.a)(),P=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getList("clients",{pagination:{perPage:1e3},sort:{field:"id",order:"asc"},filter:{}});case 2:return t=e.sent,y(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){P()}),[]);var H=function(e){return Object(n.jsx)(I.a,Object(b.a)(Object(b.a)({},e),{},{classes:{toolbar:r.toolbar},alwaysEnableSaveButton:!0,children:Object(n.jsx)(vr.a,{variant:"contained",onClick:function(){return F&&A(e)},label:"Cr\xe9er",children:Object(n.jsx)(Qn.a,{})})}))},A=function(e){var t=En(j),r=Dn(f),n=Object(b.a)(Object(b.a)({},t),r);console.log("handlesubmit props",e),c({payload:{data:n}},{onSuccess:function(e){var t,r=e.data;t=r.id,o({payload:{data:{Client:[t],Statut:"1. A attribuer"}}},{onSuccess:function(e){var t=e.data;console.log("success list",t),w("/listes/"+t.id)},onFailure:function(e){e.error}})},onFailure:function(e){e.error}})};return Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({},e),{},{variant:"outlined",toolbar:Object(n.jsx)(H,{}),children:[Object(n.jsx)(Xn.a,{row:!0,children:Object(n.jsx)(Jn.a,{control:Object(n.jsx)(Kn.a,{classes:{root:t.switch},checked:F,onChange:function(e){return k(e.target.checked)}}),label:F?"Nouveau client":"D\xe9j\xe0 client"})}),Object(n.jsx)("br",{}),!F&&Object(n.jsx)(pt.a,{fullWidth:!0,source:"Client",reference:"clients",children:Object(n.jsx)(Gn.a,{setFilter:function(){return!1},choices:C.data?C.data:[],optionText:function(e){return"".concat(e&&e["Pr\xe9nom"]||"","  ").concat(e&&e.Nom||""," -  ").concat(e&&e.Entreprise||"")}})}),F&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M.a,{variant:"h6",children:"Infos Client"}),Object(n.jsx)(Un.a,{link:!1,fullWidth:!0,source:"Client[0]",label:"",reference:"clients",children:Object(n.jsx)(ee.a,Object(b.a)(Object(b.a)({},e),{},{setClientProps:u,render:function(e){return Object(n.jsx)(Ae,Object(b.a)({},e))}}))}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Infos Entreprise"}),Object(n.jsx)(Un.a,{link:!1,fullWidth:!0,source:"Client[0]",label:"",reference:"clients",children:Object(n.jsx)(ee.a,Object(b.a)(Object(b.a)({},e),{},{setCompanyProps:p,save:function(e){return console.log(e)},render:function(e){return Object(n.jsx)(Ee,Object(b.a)({},e))}}))})]})]}))},ea=function(e){var t=Object(a.useState)(),r=Object(_.a)(t,2),i=r[0],c=r[1];console.log("client id",i);var s=function(){return console.log("in get client id",i),i};return Object(n.jsx)(Xe.a,Object(b.a)(Object(b.a)({},e),{},{transform:function e(t,r){console.log("client id in transform",s());var n=t;return t.Client||r?(n.Client=t.Client?[t.Client]:[r],Br(n)):e(t)},children:Object(n.jsx)($n,{setClientId:c})}))},ta=[[{id:"1",name:"A retraiter"},{id:"2",name:"En attente de relecture"},{id:"3",name:"Bloqu\xe9"}],[{id:"1",name:"R\xe9serv\xe9"},{id:"2",name:"Vendu par Vesto"},{id:"3",name:"Vendu hors Vesto"}]],ra=function(e){var t=Object(re.a)(),r=t.filterValues,i=t.setFilters,c=t.displayedFilters,s=Object(a.useCallback)((function(e,t){i&&i(Object(b.a)(Object(b.a)({},r),{},{Statut:t}),c)}),[c,r,i]);return Object(n.jsxs)(Y.a,{container:!0,spacing:4,children:[Object(n.jsx)(Y.a,{item:!0,xs:3,children:ta.map((function(e){return Object(n.jsxs)(Y.a,{item:!0,xs:12,children:[Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsx)(ue.a,{orientation:"vertical",centered:!0,value:r.Statut,indicatorColor:"primary",textColor:"primary",onChange:s,children:e.map((function(e){return Object(n.jsx)(be.a,{label:e.name,value:e.name},e.id)}))})})}),Object(n.jsx)("br",{})]})}))}),Object(n.jsx)(Y.a,{item:!0,xs:9,children:Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsxs)(ne.a,{value:Object(b.a)({},t),children:[Object(n.jsxs)(F.a,Object(b.a)(Object(b.a)({},e),{},{rowClick:"edit",children:[Object(n.jsx)(k.a,{source:"Type"}),Object(n.jsx)(k.a,{source:"Marque"}),Object(n.jsx)(k.a,{source:"Modele"}),Object(n.jsx)(ae.a,{source:"Owner",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"name"})})}),Object(n.jsx)(X.a,{label:"Prix HT",render:function(e){return Object(n.jsxs)(Or,{children:[e["Prix HT"],"\xa0\u20ac"]})}}),Object(n.jsx)(A.a,{source:"Reconditionneur",reference:"reconditionneurs",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)(D.a,{source:"Source"})]})),Object(n.jsx)(T.a,{})]})})})})]})},na=function(e){return Object(n.jsxs)(ce.a,Object(b.a)(Object(b.a)({},e),{},{filterDefaultValues:{Statut:"A retraiter"},perPage:10,children:[Object(n.jsxs)(se.a,{children:[Object(n.jsx)(oe.a,{basePath:"/retraitement_machines"}),Object(n.jsx)(le.a,{})]}),Object(n.jsx)(ra,{})]}))},aa=y("https://api.airtable.com/v0/app7dXu5oLwGP1OX5"),ia=Object(me.a)((function(e){return{inlineField:{display:"inline-block",width:"25%",marginRight:"8%",minWidth:"200px"},inline6Field:{display:"inline-block",width:"14%",marginRight:"3%",minWidth:"50px"},inlineHalfField:{display:"inline-block",width:"45%",marginRight:"5%",minWidth:"300px"},inline23Field:{display:"inline-block",width:"60%",marginRight:"6%",minWidth:"200px"},fullWidth:{width:"80%"}}})),ca=function(e){var t=tr(e),r=e.Photo&&e.Photo.map((function(e){return{url:e.url,filename:e.filename}})),n=e["Photo 2 (TECH)"]&&e["Photo 2 (TECH)"].map((function(e){return{url:e.url,filename:e.filename}})),a=e["Photo 3 (TECH)"]&&e["Photo 3 (TECH)"].map((function(e){return{url:e.url,filename:e.filename}})),i=e["Photo plaque"]&&e["Photo plaque"].map((function(e){return{url:e.url,filename:e.filename}})),c=e["Fiche technique"]&&e["Fiche technique"].map((function(e){return{url:e.url,filename:e.filename}}));return t.Photo=r,t["Photo 2 (TECH)"]=n,t["Photo 3 (TECH)"]=a,t["Photo plaque"]=i,t["Fiche technique"]=c,t},sa=function(e){var t=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aa.getList("categories",{pagination:{},sort:{field:"Cat\xe9gorie",order:"asc"},filter:{}});case 2:return t=e.sent,s(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=Object(a.useState)([]),i=Object(_.a)(r,2),c=i[0],s=i[1];Object(a.useEffect)((function(){t()}),[]);var o=ia(e),l=Object(J.a)(),d=Object(a.useState)(!1),j=Object(_.a)(d,2),u=j[0],O=j[1],m=Object(a.useState)(e.record&&e.record["Prix HT"]),f=Object(_.a)(m,2),p=f[0],v=f[1],g=Object(a.useState)(e.record&&e.record["Prix neuf HT"]),C=Object(_.a)(g,2),y=C[0],T=C[1],N=Math.round((p-y)/y*100);return Object(n.jsx)(Xe.a,Object(b.a)(Object(b.a)({},e),{},{transform:function(e){if("Disponible"===e.Statut){var t=Bt(e);return t&&(O(t),e.Statut="A retraiter",console.log("has error",u,t),l("Pas assez d'infos pour passer en disponible","warning",{},!1)),ca(e)}return ca(e)},undoable:!1,children:Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({variant:"outlined"},e),{},{children:[Object(n.jsx)(P.a,{source:"Type",fullWidth:!0,formClassName:o.inline23Field,error:e.error&&e.error.Type,helperText:e.error&&e.error.Type}),Object(n.jsx)(A.a,{source:"Reconditionneur",reference:"reconditionneurs",formClassName:o.inline6Field,children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)(k.a,{source:"Source",formClassName:o.inline6Field}),Object(n.jsx)(H.a,{source:"Statut",formClassName:o.inlineField,choices:xt,optionText:"name"}),Object(n.jsx)(M.a,{variant:"h6",children:"Caract\xe9ristiques"}),Object(n.jsx)(P.a,{source:"Marque",formClassName:o.inlineField,error:e.error&&e.error.Marque,helperText:e.error&&e.error.Marque}),Object(n.jsx)(P.a,{source:"Modele",formClassName:o.inlineField,error:e.error&&e.error.Modele,helperText:e.error&&e.error.Modele}),Object(n.jsx)(P.a,{source:"Ann\xe9e",formClassName:o.inlineField}),Object(n.jsx)(mt.a,{label:"Prix HT",source:"Prix HT",value:p,onChange:function(e){v(e.target.value)},formClassName:o.inlineField,error:e.error&&e.error["Prix HT"],helperText:e.error&&e.error["Prix HT"]}),Object(n.jsx)(mt.a,{label:"Prix neuf HT",source:"Prix neuf HT",value:y,onChange:function(e){T(e.target.value)},formClassName:o.inlineField,error:e.error&&e.error["Prix neuf HT"],helperText:e.error&&e.error["Prix neuf HT"]}),Object(n.jsx)(X.a,{className:N<=-30?o.green:o.red,label:"Pourcentage de r\xe9duction",render:function(e){return p&&y&&"".concat(N," %")},formClassName:o.inlineField}),Object(n.jsx)(P.a,{source:"Dimensions",formClassName:o.inlineField,error:e.error&&e.error.Dimensions,helperText:e.error&&e.error.Dimensions}),Object(n.jsx)(P.a,{source:"Capacit\xe9",formClassName:o.inlineField,error:e.error&&e.error["Capacit\xe9"],helperText:e.error&&e.error["Capacit\xe9"]}),Object(n.jsx)(H.a,{source:"Alimentation",choices:Ot,optionText:"name",formClassName:o.inlineField,error:e.error&&e.error.Alimentation,helperText:e.error&&e.error.Alimentation}),Object(n.jsx)(P.a,{source:"Puissance",formClassName:o.inlineField}),Object(n.jsx)(P.a,{source:"Poids",formClassName:o.inlineField}),Object(n.jsx)(H.a,{formClassName:o.inlineField,source:"Etat",choices:ht,optionText:"name",error:e.error&&e.error.Etat,helperText:e.error&&e.error.Etat}),Object(n.jsx)(M.a,{variant:"h6",children:"Cat\xe9gories et Notes"}),Object(n.jsx)(pt.a,{source:"Sous-Cat\xe9gorie",reference:"categories",formClassName:o.inlineHalfField,children:Object(n.jsx)(vt.a,{setFilter:null,fullWidth:!0,choices:c.data?c.data:[],optionText:function(e){return"".concat(e&&e.Nom,"  -  ").concat(e&&e["Cat\xe9gorie"])},formClassName:o.inlineField,meta:{touched:e.error&&e.error["Sous-Cat\xe9gorie"],error:e.error&&e.error["Sous-Cat\xe9gorie"],submitError:e.error&&e.error["Sous-Cat\xe9gorie"]},helperText:e.error&&e.error["Sous-Cat\xe9gorie"]})}),Object(n.jsx)(P.a,{multiline:!0,fullWidth:!0,source:"Avis Vesto",formClassName:o.inlineHalfField}),Object(n.jsx)(P.a,{multiline:!0,fullWidth:!0,source:"Notes",formClassName:o.inlineHalfField}),Object(n.jsx)(M.a,{variant:"h6",children:"Documents"}),Object(n.jsx)(zt,{addLabel:!0,source:"Photo",source1:"Photo 2 (TECH)",source2:"Photo 3 (TECH)",src:"url",formClassName:o.inlineHalfField}),Object(n.jsx)(zt,{addLabel:!0,source:"Photo plaque",src:"url",formClassName:o.inlineHalfField}),Object(n.jsx)(Be.a,{source:"Fiche technique",src:"url",title:"filename",target:"_blank",fullWidth:!0})]}))}))},oa=r(630),la=r(296),da=r(626),ja=r(618),ua=r(228),ba=r(735),Oa=r(402),ha=r(120),xa=r.n(ha),ma=r(406),fa=r.n(ma),pa=r(407),va=r.n(pa),ga=r(408),Ca=r.n(ga),ya=r(225),Ta=r.n(ya),Na=r(409),Fa=r.n(Na),ka=r(410),Sa=r.n(ka),wa=r(405),Wa=r.n(wa),Pa=r(293),Ha=r.n(Pa),Aa=r(292),Ea=r.n(Aa),Da=r(240),Ma=r.n(Da);function _a(){var e=Object(Ge.a)(["\n    font-weight: 1000;\n    margin: 5px 32px;\n    padding: 6px;\n    padding-left: 6px!important;\n    background-color: #5fd3a1;\n    border-radius: 5px;\n    color: white;\n    justify-content: center;\n    "]);return _a=function(){return e},e}var La=Object(Jt.a)(ua.a)(_a()),Ia=Object(me.a)((function(e){return{icon:{minWidth:e.spacing(4),color:"#192D4B"},sidebarIsOpen:{width:"auto","& a":{paddingLeft:e.spacing(4),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},sidebarIsClosed:{"& a":{paddingLeft:e.spacing(2),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},category:{color:"#192D4B"}}})),Va=function(e){return Object(n.jsx)(ba.a,Object(b.a)(Object(b.a)({},e),{},{menu:qa}))},qa=function(e){var t=e.onMenuClick,r=Object(a.useState)({menuOps:!0,menuSales:!0,menuMkp:!0,menuAdmin:!1}),i=Object(_.a)(r,2),c=i[0],s=i[1],o=!0,l=function(e){s((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(u.a)({},e,!t[e]))}))},d=!1;return Object(n.jsxs)(K.a,{mt:1,children:[" ",Object(n.jsx)(Oa.a,{onClick:t,sidebarIsOpen:o}),Object(n.jsxs)(Ra,{handleToggle:function(){return l("menuSales")},isOpen:c.menuSales,sidebarIsOpen:o,name:"Sales",icon:Object(n.jsx)(Wa.a,{}),dense:d,children:[Object(n.jsx)(ua.a,{to:"/clients",primaryText:"Clients",leftIcon:Object(n.jsx)(fa.a,{}),onClick:t,sidebarIsOpen:o,dense:d}),Object(n.jsx)(ua.a,{to:"/listes",primaryText:"Demandes",leftIcon:Object(n.jsx)(va.a,{}),onClick:t,sidebarIsOpen:o,dense:d}),Object(n.jsx)(ua.a,{to:"/vesto_stock",primaryText:"Vesto Stock",leftIcon:Object(n.jsx)(Ca.a,{}),onClick:t,sidebarIsOpen:o,dense:d}),Object(n.jsx)(La,{to:"/listes/create",className:{color:"red"},primaryText:"Nouvelle demande",sidebarIsOpen:o,dense:d})]}),Object(n.jsxs)(Ra,{handleToggle:function(){return l("menuOps")},isOpen:c.menuOps,sidebarIsOpen:o,name:"Ops",icon:Object(n.jsx)(Ea.a,{}),dense:d,children:[Object(n.jsx)(ua.a,{to:"/operations",primaryText:"Op\xe9rations",leftIcon:Object(n.jsx)(Fa.a,{}),onClick:t,sidebarIsOpen:o,dense:d}),Object(n.jsx)(ua.a,{to:"/sav",primaryText:"SAV",leftIcon:Object(n.jsx)(Ea.a,{}),onClick:t,sidebarIsOpen:o,dense:d})]}),Object(n.jsxs)(Ra,{handleToggle:function(){return l("menuMkp")},isOpen:c.menuMkp,sidebarIsOpen:o,name:"Marketplace",icon:Object(n.jsx)(Ha.a,{}),dense:d,children:[Object(n.jsx)(ua.a,{to:"/retraitement_machines",primaryText:"Retraitement",leftIcon:Object(n.jsx)(Sa.a,{}),onClick:t,sidebarIsOpen:o,dense:d}),Object(n.jsx)(ua.a,{to:"/machines_desirees",primaryText:"Machines d\xe9sir\xe9es",leftIcon:Object(n.jsx)(Ta.a,{}),onClick:t,sidebarIsOpen:o,dense:d}),Object(n.jsx)(ua.a,{to:"/reconditionneurs",primaryText:"Reconditionneurs",leftIcon:Object(n.jsx)(Ha.a,{}),onClick:t,sidebarIsOpen:o,dense:d})]}),Object(n.jsxs)(Ra,{handleToggle:function(){return l("menuAdmin")},isOpen:c.menuAdmin,sidebarIsOpen:o,name:"Admin",icon:Object(n.jsx)(Ma.a,{}),dense:d,children:[Object(n.jsx)(ua.a,{to:"/factures",primaryText:"Factures partenaires",leftIcon:Object(n.jsx)(Ma.a,{}),onClick:t,sidebarIsOpen:o,dense:d}),Object(n.jsx)(ua.a,{to:"/factures_clients",primaryText:"Factures clients",leftIcon:Object(n.jsx)(Ma.a,{}),onClick:t,sidebarIsOpen:o,dense:d})]})]})},Ra=function(e){var t=e.handleToggle,r=e.sidebarIsOpen,i=e.isOpen,c=e.name,s=e.icon,o=e.children,l=e.dense,d=Ia(),j=Object(n.jsxs)(he.a,{dense:l,button:!0,onClick:t,className:d.category,children:[Object(n.jsx)(oa.a,{className:d.icon,children:i?Object(n.jsx)(xa.a,{}):s}),Object(n.jsx)(M.a,{variant:"h6",children:c})]});return Object(n.jsxs)(a.Fragment,{children:[r||i?j:Object(n.jsx)(la.a,{title:c,placement:"right",children:j}),Object(n.jsx)(da.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(n.jsx)(ja.a,{dense:l,component:"div",disablePadding:!0,className:r?d.sidebarIsOpen:d.sidebarIsClosed,children:o})})]})},Ba=Object(me.a)((function(e){return{inlineField:{display:"inline-block",width:"25%",marginRight:"8%",minWidth:"200px"},inline6Field:{display:"inline-block",width:"14%",marginRight:"3%",minWidth:"50px"},inlineHalfField:{display:"inline-block",width:"45%",marginRight:"5%",minWidth:"300px"},inline23Field:{display:"inline-block",width:"66%",minWidth:"200px"},fullWidth:{maxWidth:"80%"}}})),za=Pr.concat(Hr).concat(_r),Ga=function(e){var t=Object(a.useState)(!1),r=Object(_.a)(t,2),i=r[0],c=r[1],s=Object(a.useState)(!1),o=Object(_.a)(s,2),l=o[0],d=o[1],j=Ba(),u=Object(J.a)();return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{transform:function(e){return"Date install planifi\xe9e"===e["Statut intervention"]?e["Debut installation"]&&e["Fin installation"]||(e["Statut intervention"]="Date install \xe0 planifier",u("Les dates d'installation ne sont pas renseign\xe9es","warning",{},!1)):"Termin\xe9"===e["Statut intervention"]&&(e["CR pour les Sales"]||(e["Statut intervention"]="Date install planifi\xe9e",u("Il manque le CR pour les sales","warning",{},!1))),Br(e)},undoable:!1,aside:Object(n.jsx)(It,{}),children:Object(n.jsxs)(W.a,{warnWhenUnsavedChanges:!0,redirect:!1,children:[Object(n.jsx)(k.a,{source:"Nom",formClassName:j.inlineField}),Object(n.jsx)(H.a,{optionText:"id",formClassName:j.inlineField,choices:za,source:"Statut intervention"}),Object(n.jsx)($.a,{source:"Client",reference:"clients",formClassName:j.inlineField,children:Object(n.jsx)(An,{})}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,label:"Notes installs / SAV",source:"Notes installs / SAV",formClassName:j.fullWidth}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Informations SAV"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{source:"Adresse installation",formClassName:j.fullWidth,fullWidth:!0}),Object(n.jsx)(wr.a,{source:"Debut prochaine intervention",formClassName:j.inlineField}),Object(n.jsx)(wr.a,{source:"Fin prochaine intervention",formClassName:j.inlineField}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,label:"CR pour les sales",source:"CR pour les Sales",formClassName:j.fullWidth}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Informations install"}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{source:"P\xe9riode installation souhait\xe9e",formClassName:j.inlineField}),Object(n.jsx)(P.a,{source:"Urgence et indisponibilit\xe9s",formClassName:j.inline23Field}),Object(n.jsx)(wr.a,{source:"Debut installation",formClassName:j.inlineField}),Object(n.jsx)(wr.a,{source:"Fin installation",formClassName:j.inline23Field}),Object(n.jsx)(mt.a,{source:"Frais suppl\xe9mentaires",formClassName:j.inlineField}),Object(n.jsx)(P.a,{source:"Notes frais",label:"Notes",formClassName:j.inline23Field}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Machines"}),Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{source:"Machines devis",reference:"vesto_stock",children:Object(n.jsx)(dn,{editable:!1,handleClick:function(e){console.log("id click",e),c(!0),d(e)}})}),Object(n.jsx)(Je.a,{open:i,anchor:"right",children:l&&Object(n.jsx)(ir,Object(b.a)({recordId:l,onCancel:function(e){c(!1),d(!1)}},e))})]})}))},Ua=Object(me.a)((function(e){return{root:{maxWidth:"500px"}}})),Xa=[{id:"A compl\xe9ter",name:"A compl\xe9ter"},{id:"En attente install",name:"En attente install"},{id:"Install finie - facture non re\xe7ue",name:"Install finie - facture non re\xe7ue"},{id:"Facture \xe0 r\xe9gler",name:"Facture \xe0 r\xe9gler"},{id:"R\xe9gl\xe9e",name:"R\xe9gl\xe9e"}],Ja=function(e){var t=Object(re.a)(),r=t.filterValues,i=t.setFilters,c=t.displayedFilters,s=Object(a.useCallback)((function(e,t){i&&i(Object(b.a)(Object(b.a)({},r),{},{Statut:t}),c)}),[c,r,i]),o=Ua();return Object(n.jsxs)(Y.a,{container:!0,spacing:4,children:[Object(n.jsx)(Y.a,{item:!0,xs:3,children:Object(n.jsxs)(Y.a,{item:!0,xs:12,children:[Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsx)(ue.a,{orientation:"vertical",centered:!0,value:r.Statut,indicatorColor:"primary",textColor:"primary",onChange:s,children:Xa.map((function(e){return Object(n.jsx)(be.a,{label:e.name,value:e.name,classes:o},e.id)}))})})}),Object(n.jsx)("br",{})]})}),Object(n.jsx)(Y.a,{item:!0,xs:9,children:Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsxs)(ne.a,{value:Object(b.a)({},t),children:[Object(n.jsxs)(F.a,Object(b.a)(Object(b.a)({},e),{},{rowClick:"edit",children:[Object(n.jsx)(k.a,{source:"Name"}),Object(n.jsx)(X.a,{label:"Valeur (HT)",render:function(e){return e["Valeur (HT)"]?"".concat(e["Valeur (HT)"]," \u20ac"):"Non d\xe9finie"}}),Object(n.jsx)(A.a,{source:"Acteur",reference:"reconditionneurs",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)(A.a,{source:"Client",reference:"listes",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)(G.a,{source:"Date \xe9ch\xe9ance"})]})),Object(n.jsx)(T.a,{})]})})})})]})},Ka=function(e){return Object(n.jsxs)(ce.a,Object(b.a)(Object(b.a)({},e),{},{filterDefaultValues:{Statut:"Facture \xe0 r\xe9gler"},perPage:10,children:[Object(n.jsxs)(se.a,{children:[Object(n.jsx)(oe.a,{basePath:"/factures"}),Object(n.jsx)(le.a,{})]}),Object(n.jsx)(Ja,{})]}))},Za=r(411),Qa=function(e){var t=Hn();return Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({},e),{},{variant:"outlined",children:[Object(n.jsx)(H.a,{source:"Statut",choices:Xa,formClassName:t.inlineField,fullWidth:!0}),Object(n.jsx)(Za.a,{source:"Date \xe9ch\xe9ance",formClassName:t.inlineField,fullWidth:!0}),Object(n.jsx)(mt.a,{source:"Valeur (HT)",label:"Valeur (HT)"}),Object(n.jsx)(A.a,{formClassName:t.inlineField,source:"Acteur",reference:"reconditionneurs",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)(A.a,{formClassName:t.inlineField,source:"Client",reference:"listes",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{formClassName:t.fullWidth,multiline:!0,fullWidth:!0,source:"Notes"}),Object(n.jsx)("br",{}),Object(n.jsx)(Be.a,{source:"Facture",src:"url",title:"filename",target:"_blank",fullWidth:!0}),Object(n.jsx)(Q.a,{href:"https://airtable.com/shryQIshaRPxDIE8L?prefill_Facture%20reconditionneur=".concat(e.record.id),formClassName:t.inline23Field,variant:"contained",color:"secondary",target:"_blank",children:"Ajouter une facture"})]}))},Ya=function(e){return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{aside:Object(n.jsx)(It,{}),children:Object(n.jsx)(Qa,{})}))},$a=function(e){var t=Hn(),r=Object(Bn.a)(),i=Object(a.useState)(),c=Object(_.a)(i,2),s=c[0],o=c[1],l=Object(a.useState)(),d=Object(_.a)(l,2),j=d[0],u=d[1],O=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getList("listes",{pagination:{perPage:1e3},sort:{field:"id",order:"asc"},filter:{}});case 2:return t=e.sent,o(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getList("reconditionneurs",{pagination:{perPage:1e3},sort:{field:"id",order:"asc"},filter:{}});case 2:return t=e.sent,u(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O(),m()}),[]);return Object(n.jsx)(Xe.a,Object(b.a)(Object(b.a)({},e),{},{transform:function(e){var t=e;return e.Acteur&&(t.Acteur=[e.Acteur]),t},children:Object(n.jsxs)(W.a,{variant:"outlined",children:[Object(n.jsx)(M.a,{variant:"h6",children:"Nouvelle facture"}),Object(n.jsx)(H.a,{source:"Statut",choices:Xa,formClassName:t.inlineField,fullWidth:!0,validate:Object(Ht.c)()}),Object(n.jsx)(mt.a,{source:"Valeur (HT)",label:"Valeur (HT)",formClassName:t.inlineField,fullWidth:!0,validate:Object(Ht.c)()}),Object(n.jsx)(Za.a,{source:"Date \xe9ch\xe9ance",formClassName:t.inlineField,fullWidth:!0}),j&&Object(n.jsx)(pt.a,{formClassName:t.inline23Field,fullWidth:!0,source:"Acteur",reference:"reconditionneurs",children:Object(n.jsx)(Gn.a,{setFilter:function(){return!1},choices:j.data?j.data:[],optionText:function(e){return"".concat(e&&e.Nom||"")}})}),s&&Object(n.jsx)(pt.a,{formClassName:t.inline23Field,fullWidth:!0,source:"Client",label:"Demande client",reference:"listes",children:Object(n.jsx)(vt.a,{setFilter:function(){return!1},choices:s.data||[],optionText:function(e){return"".concat(e&&e.Nom||"")}})}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{multiline:!0,formClassName:t.fullWidth,fullWidth:!0,source:"Notes"})]})}))},ei=r(412),ti=Object(me.a)((function(e){return{root:{maxWidth:"500px"}}})),ri=[{id:"Devis sign\xe9",name:"Devis sign\xe9"},{id:"Install cette semaine",name:"Install cette semaine"},{id:"A envoyer",name:"A envoyer"},{id:"Envoy\xe9",name:"Envoy\xe9"},{id:"A relancer",name:"A relancer"},{id:"R\xe9gl\xe9",name:"R\xe9gl\xe9"}],ni=function(e){var t=Object(re.a)(),r=t.filterValues,i=t.setFilters,c=t.displayedFilters,s=Object(a.useCallback)((function(e,t){i&&i(Object(b.a)(Object(b.a)({},r),{},{Statut:t}),c)}),[c,r,i]),o=ti();return Object(n.jsxs)(Y.a,{container:!0,spacing:4,children:[Object(n.jsx)(Y.a,{item:!0,xs:3,children:Object(n.jsxs)(Y.a,{item:!0,xs:12,children:[Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsx)(ue.a,{orientation:"vertical",centered:!0,value:r.Statut,indicatorColor:"primary",textColor:"primary",onChange:s,children:ri.map((function(e){return Object(n.jsx)(be.a,{label:e.name,value:e.name,classes:o},e.id)}))})})}),Object(n.jsx)("br",{})]})}),Object(n.jsx)(Y.a,{item:!0,xs:9,children:Object(n.jsx)(de.a,{children:Object(n.jsx)(je.a,{children:Object(n.jsxs)(ne.a,{value:Object(b.a)({},t),children:[Object(n.jsxs)(F.a,Object(b.a)(Object(b.a)({},e),{},{rowClick:"edit",children:[Object(n.jsx)(k.a,{source:"Nom"}),Object(n.jsx)(X.a,{label:"Total (HT)",render:function(e){return e["Total (HT)"]?"".concat(e["Total (HT)"]," \u20ac"):"Non d\xe9fini"}}),Object(n.jsx)(A.a,{source:"Client",reference:"listes",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)(X.a,{label:"Acompte (TTC)",render:function(e){return"".concat(Math.round(1.2*(e["Total (HT)"]||0)*.3*100)/100," \u20ac")}}),Object(n.jsx)(ei.a,{source:"Acompte pay\xe9"})]})),Object(n.jsx)(T.a,{})]})})})})]})},ai=function(e){return Object(n.jsxs)(ce.a,Object(b.a)(Object(b.a)({},e),{},{filterDefaultValues:{Statut:"Install cette semaine"},perPage:10,children:[Object(n.jsxs)(se.a,{children:[Object(n.jsx)(oe.a,{basePath:"/factures_clients"}),Object(n.jsx)(le.a,{})]}),Object(n.jsx)(ni,{})]}))},ii=function(e){var t=Hn(),r=Object(a.useState)(e.record&&e.record["Total (HT)"]),i=Object(_.a)(r,2),c=i[0],s=i[1],o=Object(st.a)("listes",e.record&&e.record.Client&&e.record.Client[0]);return Object(n.jsxs)(W.a,Object(b.a)(Object(b.a)({},e),{},{redirect:!1,variant:"outlined",children:[Object(n.jsx)(H.a,{source:"Statut",choices:ri}),Object(n.jsx)(mt.a,{onChange:function(e){return s(e.target.value)},source:"Total (HT)",label:"Total (HT)",formClassName:t.inlineHalfField,fullWidth:!0,validate:Object(Ht.c)()}),Object(n.jsx)(X.a,{formClassName:t.inlineHalfField,fullWidth:!0,label:"Total (TTC)",render:function(e){return"".concat(Math.round(1.2*c*100)/100," \u20ac")}}),Object(n.jsx)(X.a,{formClassName:t.inlineHalfField,fullWidth:!0,label:"Acompte (TTC)",render:function(e){return"".concat(Math.round(1.2*c*.3*100)/100," \u20ac")}}),Object(n.jsx)(z.a,{formClassName:t.inlineHalfField,fullWidth:!0,source:"Acompte pay\xe9"}),Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{source:"Client",reference:"listes",label:"Demande client associ\xe9e",children:Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{source:"Nom"})})}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{formClassName:t.fullWidth,multiline:!0,fullWidth:!0,source:"Notes"}),Object(n.jsx)("br",{}),o&&o.data&&Object(n.jsx)(Fn,{documentVariant:"facture",documentRecord:o.data,deposit:e.record["Acompte pay\xe9"]?Math.round(1.2*c*.3*100)/100:0}),Object(n.jsx)("br",{})]}))},ci=function(e){return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{aside:Object(n.jsx)(It,{}),children:Object(n.jsx)(ii,{})}))},si=function(e){var t=Hn(),r=Object(Bn.a)(),i=Object(a.useState)(),c=Object(_.a)(i,2),s=c[0],o=c[1],l=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getList("listes",{pagination:{perPage:1e3},sort:{field:"id",order:"asc"},filter:{}});case 2:return t=e.sent,o(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l()}),[]);var d=Object(a.useState)(0),j=Object(_.a)(d,2),u=j[0],O=j[1];return console.log("props create",e),Object(n.jsx)(Xe.a,Object(b.a)(Object(b.a)({},e),{},{transform:function(e){var t=e;return e.Client&&(t.Client=e.Client),t},children:Object(n.jsxs)(W.a,{variant:"outlined",children:[Object(n.jsx)(M.a,{variant:"h6",children:"Nouvelle facture"}),Object(n.jsx)(H.a,{source:"Statut",choices:ri,formClassName:t.inlineField,fullWidth:!0,validate:Object(Ht.c)()}),Object(n.jsx)(mt.a,{onChange:function(e){return O(e.target.value)},source:"Total (HT)",label:"Total (HT)",formClassName:t.inlineField,fullWidth:!0,validate:Object(Ht.c)()}),Object(n.jsx)(X.a,{formClassName:t.inlineField,fullWidth:!0,label:"Total (TTC)",render:function(e){return"".concat(Math.round(1.2*u*100)/100," \u20ac")}}),Object(n.jsx)(pt.a,{formClassName:t.inline23Field,fullWidth:!0,source:"Client",label:"Demande client associ\xe9e",reference:"listes",children:Object(n.jsx)(vt.a,{setFilter:function(){return!1},choices:s&&s.data||[],optionText:function(e){return"".concat(e&&e.Nom||"")}})}),Object(n.jsx)("br",{}),Object(n.jsx)(P.a,{multiline:!0,formClassName:t.fullWidth,fullWidth:!0,source:"Notes"})]})}))},oi=function(e){return Object(n.jsx)(N.a,Object(b.a)(Object(b.a)({},e),{},{perPage:25,children:Object(n.jsxs)(F.a,{rowClick:"edit",children:[Object(n.jsx)(k.a,{source:"Nom"}),Object(n.jsx)(k.a,{source:"Statut"}),Object(n.jsx)(k.a,{source:"Typologie"}),Object(n.jsx)(k.a,{source:"Actif"}),Object(n.jsx)(k.a,{source:"Localisation"}),Object(n.jsx)(k.a,{source:"T\xe9l\xe9phone"})]})}))},li=Object(me.a)((function(e){return{inlineField:{display:"inline-block",width:"25%",marginRight:"8%",minWidth:"200px"},inline6Field:{display:"inline-block",width:"14%",marginRight:"3%",minWidth:"50px"},inlineHalfField:{display:"inline-block",width:"45%",marginRight:"5%",minWidth:"300px"},inline23Field:{display:"inline-block",width:"66%",minWidth:"200px"},fullWidth:{maxWidth:"80%"}}})),di=[{id:"Contact\xe9"},{id:"Rencontr\xe9"},{id:"1ers dossiers"},{id:"Signature Charte"},{id:"Onboard\xe9"},{id:"Onboard\xe9 sans Charte"}],ji=[{id:"Artisan / PME"},{id:"Industriel"},{id:"Fabricant"},{id:"Transporteur"},{id:"Autre"}],ui=[{id:"Actif"},{id:"Non actif"},{id:""}],bi=[{id:"Veille"},{id:"A relancer"},{id:"Relanc\xe9"}],Oi=function(e){var t=Object(b.a)({},e);return delete t.id,t},hi=function(e){var t=li();return Object(n.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{transform:Oi,aside:Object(n.jsx)(It,{}),children:Object(n.jsxs)(W.a,{variant:"outlined",children:[Object(n.jsx)(P.a,{source:"Nom",formClassName:t.inlineField}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Informations g\xe9n\xe9rales"}),Object(n.jsx)(H.a,{source:"Statut",choices:di,optionText:"id",formClassName:t.inlineField}),Object(n.jsx)(H.a,{source:"Typologie",choices:ji,optionText:"id",formClassName:t.inlineField}),Object(n.jsx)(P.a,{source:"Localisation",formClassName:t.inlineField}),Object(n.jsx)(H.a,{source:"Actif",choices:ui,optionText:"id",formClassName:t.inlineField}),Object(n.jsx)(P.a,{source:"T\xe9l\xe9phone",formClassName:t.inlineField}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Informations Marketplace"}),Object(n.jsx)(H.a,{source:"Statut de communication",choices:bi,optionText:"id"}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,source:"Questions"})]})}))},xi=function(e){var t=li();return Object(n.jsx)(Xe.a,Object(b.a)(Object(b.a)({},e),{},{transform:Oi,children:Object(n.jsxs)(W.a,{variant:"outlined",children:[Object(n.jsx)(P.a,{source:"Nom",formClassName:t.inlineField}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Informations g\xe9n\xe9rales"}),Object(n.jsx)(H.a,{source:"Statut",choices:di,optionText:"id",formClassName:t.inlineField}),Object(n.jsx)(H.a,{source:"Typologie",choices:ji,optionText:"id",formClassName:t.inlineField}),Object(n.jsx)(P.a,{source:"Localisation",formClassName:t.inlineField}),Object(n.jsx)(H.a,{source:"Actif",choices:ui,optionText:"id",formClassName:t.inlineField}),Object(n.jsx)(P.a,{source:"T\xe9l\xe9phone",formClassName:t.inlineField}),Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{variant:"h6",children:"Informations Marketplace"}),Object(n.jsx)(H.a,{source:"Statut de communication",choices:bi,optionText:"id"}),Object(n.jsx)(P.a,{fullWidth:!0,multiline:!0,source:"Questions"})]})}))},mi=(r(596),y("https://api.airtable.com/v0/app7dXu5oLwGP1OX5")),fi=Object(Zr.a)({typography:{h6:{fontSize:"1.1rem",fontWeight:"800"}},palette:{primary:{main:"#F9BC60",contrastText:"#fff"},secondary:{light:"#2660A4",main:"#2660A4",dark:"#192D4B"}}}),pi=function(){return Object(n.jsxs)(o.a,{dataProvider:mi,theme:fi,layout:Va,children:[Object(n.jsx)(l.a,{name:"listes",options:{label:"Demandes"},list:We,edit:Ln,create:ea}),Object(n.jsx)(l.a,{name:"clients",options:{label:"Clients"},list:qn,edit:Rn}),Object(n.jsx)(l.a,{name:"machines_desirees",options:{label:"Machines d\xe9sir\xe9es"},list:d.a,edit:j.a}),Object(n.jsx)(l.a,{name:"vesto_stock",options:{label:"Vesto Stock"},list:pr}),Object(n.jsx)(l.a,{name:"categories",list:d.a,edit:j.a}),Object(n.jsx)(l.a,{name:"retraitement_machines",list:na,edit:Xt,create:sa}),Object(n.jsx)(l.a,{name:"operations",list:Dr,edit:zr}),Object(n.jsx)(l.a,{name:"sav",list:Vr,edit:Ga}),Object(n.jsx)(l.a,{name:"factures",list:Ka,edit:Ya,create:$a}),Object(n.jsx)(l.a,{name:"reconditionneurs",list:oi,edit:hi,create:xi}),Object(n.jsx)(l.a,{name:"comments"}),Object(n.jsx)(l.a,{name:"services"}),Object(n.jsx)(l.a,{name:"factures_clients",list:ai,edit:ci,create:si})]})},vi=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,755)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(pi,{})}),document.getElementById("root")),vi()}},[[612,1,2]]]);
//# sourceMappingURL=main.f8497bd9.chunk.js.map